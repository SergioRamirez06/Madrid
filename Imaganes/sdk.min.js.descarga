(()=>{var n={6981:(e,t,n)=>{"use strict";n(1983);n=(n=n(115))&&n.__esModule?n:{default:n};n.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),n.default._babelPolyfill=!0},1983:(e,t,n)=>{"use strict";n(6266),n(990),n(911),n(4160),n(6197),n(6728),n(4039),n(3568),n(8051),n(8250),n(5434),n(4952),n(6337),n(5666)},8521:()=>{var e=Object.freeze({PUSH:"push",INAPP:"inapp",CHAT:"chat"});window.Channel=e},6266:(e,t,n)=>{n(5767),n(8132),n(8388),n(7470),n(4882),n(1520),n(7476),n(9622),n(9375),n(3533),n(4672),n(4157),n(5095),n(9892),n(5115),n(9176),n(8838),n(6253),n(9730),n(6059),n(8377),n(1084),n(4299),n(1246),n(726),n(1901),n(5972),n(3403),n(2516),n(9371),n(6479),n(1736),n(1889),n(5177),n(6943),n(6503),n(6786),n(932),n(7526),n(1591),n(9073),n(347),n(579),n(4669),n(7710),n(5789),n(3514),n(9978),n(8472),n(6946),n(5068),n(413),n(191),n(8306),n(4564),n(9115),n(9539),n(6620),n(2850),n(823),n(7732),n(856),n(703),n(1539),n(5292),n(6629),n(3694),n(7648),n(7795),n(4531),n(3605),n(6780),n(9937),n(511),n(1822),n(9977),n(1031),n(6331),n(1560),n(774),n(522),n(8295),n(7842),n(110),n(75),n(4336),n(1802),n(8837),n(6773),n(5745),n(3057),n(3750),n(3369),n(9564),n(2e3),n(8977),n(2310),n(4899),n(1842),n(6997),n(3946),n(8269),n(6108),n(6774),n(1466),n(9357),n(6142),n(1876),n(851),n(8416),n(8184),n(147),n(9192),n(142),n(1786),n(5368),n(6964),n(2152),n(4821),n(9103),n(1303),n(3318),n(162),n(3834),n(1572),n(2139),n(685),n(5535),n(7347),n(3049),n(6633),n(8989),n(8270),n(4510),n(3984),n(5769),n(55),n(6014),e.exports=n(5645)},911:(e,t,n)=>{n(1268),e.exports=n(5645).Array.flatMap},990:(e,t,n)=>{n(2773),e.exports=n(5645).Array.includes},5434:(e,t,n)=>{n(3276),e.exports=n(5645).Object.entries},8051:(e,t,n)=>{n(8351),e.exports=n(5645).Object.getOwnPropertyDescriptors},8250:(e,t,n)=>{n(6409),e.exports=n(5645).Object.values},4952:(e,t,n)=>{"use strict";n(851),n(9865),e.exports=n(5645).Promise.finally},6197:(e,t,n)=>{n(2770),e.exports=n(5645).String.padEnd},4160:(e,t,n)=>{n(1784),e.exports=n(5645).String.padStart},4039:(e,t,n)=>{n(4325),e.exports=n(5645).String.trimRight},6728:(e,t,n)=>{n(5869),e.exports=n(5645).String.trimLeft},3568:(e,t,n)=>{n(9665),e.exports=n(8787).f("asyncIterator")},115:(e,t,n)=>{n(4579),e.exports=n(1327).global},5663:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},2159:(e,t,n)=>{var r=n(6727);e.exports=function(e){if(r(e))return e;throw TypeError(e+" is not an object!")}},1327:e=>{e=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},9216:(e,t,n)=>{var o=n(5663);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},9666:(e,t,n)=>{e.exports=!n(7929)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},7467:(e,t,n)=>{var r=n(6727),i=n(3938).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},3856:(e,t,n)=>{function d(e,t,n){var r,i,o,s=e&d.F,a=e&d.G,u=e&d.S,c=e&d.P,f=e&d.B,l=e&d.W,p=a?g:g[t]||(g[t]={}),h=p[b],v=a?y:u?y[t]:(y[t]||{})[b];for(r in n=a?t:n)(i=!s&&v&&void 0!==v[r])&&R(p,r)||(o=(i?v:n)[r],p[r]=a&&"function"!=typeof v[r]?n[r]:f&&i?E(o,y):l&&v[r]==o?function(r){function e(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)}return e[b]=r[b],e}(o):c&&"function"==typeof o?E(Function.call,o):o,c&&((p.virtual||(p.virtual={}))[r]=o,e&d.R&&h&&!h[r]&&m(h,r,o)))}var y=n(3938),g=n(1327),E=n(9216),m=n(1818),R=n(7069),b="prototype";d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},7929:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},3938:e=>{e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},7069:e=>{var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},1818:(e,t,n)=>{var r=n(4743),i=n(3101);e.exports=n(9666)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},3758:(e,t,n)=>{e.exports=!n(9666)&&!n(7929)(function(){return 7!=Object.defineProperty(n(7467)("div"),"a",{get:function(){return 7}}).a})},6727:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},4743:(e,t,n)=>{var r=n(2159),i=n(3758),o=n(3206),s=Object.defineProperty;t.f=n(9666)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},3101:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},3206:(e,t,n)=>{var i=n(6727);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(t||"function"!=typeof(n=e.toString)||i(r=n.call(e)))throw TypeError("Can't convert object to primitive value");return r}},4579:(e,t,n)=>{var r=n(3856);r(r.G,{global:n(3938)})},4963:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},3365:(e,t,n)=>{var r=n(2032);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},7722:(e,t,n)=>{var r=n(6314)("unscopables"),i=Array.prototype;null==i[r]&&n(7728)(i,r,{}),e.exports=function(e){i[r][e]=!0}},6793:(e,t,n)=>{"use strict";var r=n(4496)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},3328:e=>{e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},7007:(e,t,n)=>{var r=n(5286);e.exports=function(e){if(r(e))return e;throw TypeError(e+" is not an object!")}},5216:(e,t,n)=>{"use strict";var u=n(508),c=n(2337),f=n(875);e.exports=[].copyWithin||function(e,t){var n=u(this),r=f(n.length),i=c(e,r),o=c(t,r),e=2<arguments.length?arguments[2]:void 0,s=Math.min((void 0===e?r:c(e,r))-o,r-i),a=1;for(o<i&&i<o+s&&(a=-1,o+=s-1,i+=s-1);0<s--;)o in n?n[i]=n[o]:delete n[i],i+=a,o+=a;return n}},6852:(e,t,n)=>{"use strict";var s=n(508),a=n(2337),u=n(875);e.exports=function(e){for(var t=s(this),n=u(t.length),r=arguments.length,i=a(1<r?arguments[1]:void 0,n),r=2<r?arguments[2]:void 0,o=void 0===r?n:a(r,n);i<o;)t[i++]=e;return t}},9315:(e,t,n)=>{var u=n(2110),c=n(875),f=n(2337);e.exports=function(a){return function(e,t,n){var r,i=u(e),o=c(i.length),s=f(n,o);if(a&&t!=t){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===t)return a||s||0;return!a&&-1}}},50:(e,t,n)=>{var m=n(741),R=n(9797),b=n(508),I=n(875),r=n(6886);e.exports=function(l,e){var p=1==l,h=2==l,v=3==l,d=4==l,y=6==l,g=5==l||y,E=e||r;return function(e,t,n){for(var r,i,o=b(e),s=R(o),a=m(t,n,3),u=I(s.length),c=0,f=p?E(e,u):h?E(e,0):void 0;c<u;c++)if((g||c in s)&&(i=a(r=s[c],c,o),l))if(p)f[c]=i;else if(i)switch(l){case 3:return!0;case 5:return r;case 6:return c;case 2:f.push(r)}else if(d)return!1;return y?-1:v||d?d:f}}},7628:(e,t,n)=>{var f=n(4963),l=n(508),p=n(9797),h=n(875);e.exports=function(e,t,n,r,i){f(t);var o=l(e),s=p(o),a=h(o.length),u=i?a-1:0,c=i?-1:1;if(n<2)for(;;){if(u in s){r=s[u],u+=c;break}if(u+=c,i?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;i?0<=u:u<a;u+=c)u in s&&(r=t(r,s[u],u,o));return r}},2736:(e,t,n)=>{var r=n(5286),i=n(4302),o=n(6314)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},6886:(e,t,n)=>{var r=n(2736);e.exports=function(e,t){return new(r(e))(t)}},4398:(e,t,n)=>{"use strict";var r=n(4963),i=n(5286),f=n(7242),l=[].slice,p={};e.exports=Function.bind||function(s){var a=r(this),u=l.call(arguments,1),c=function(){var e=u.concat(l.call(arguments));if(this instanceof c){var t=a,n=e.length,r=e;if(!(n in p)){for(var i=[],o=0;o<n;o++)i[o]="a["+o+"]";p[n]=Function("F,a","return new F("+i.join(",")+")")}return p[n](t,r)}return f(a,e,s)};return i(a.prototype)&&(c.prototype=a.prototype),c}},1488:(e,t,n)=>{var r=n(2032),i=n(6314)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),i))?t:o?r(e):"Object"==(t=r(e))&&"function"==typeof e.callee?"Arguments":t}},2032:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9824:(e,t,n)=>{"use strict";function s(e,t){var n,r=v(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n}var a=n(9275).f,u=n(2503),c=n(4408),f=n(741),l=n(3328),p=n(3531),r=n(2923),i=n(5436),o=n(2974),h=n(7057),v=n(4728).fastKey,d=n(1616),y=h?"_s":"size";e.exports={getConstructor:function(e,i,n,r){var o=e(function(e,t){l(e,o,i,"_i"),e._t=i,e._i=u(null),e._f=void 0,e._l=void 0,e[y]=0,null!=t&&p(t,n,e[r],e)});return c(o.prototype,{clear:function(){for(var e=d(this,i),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var t,n,r=d(this,i),e=s(r,e);return e&&(t=e.n,n=e.p,delete r._i[e.i],e.r=!0,n&&(n.n=t),t&&(t.p=n),r._f==e&&(r._f=t),r._l==e&&(r._l=n),r[y]--),!!e},forEach:function(e){d(this,i);for(var t,n=f(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!s(d(this,i),e)}}),h&&a(o.prototype,"size",{get:function(){return d(this,i)[y]}}),o},def:function(e,t,n){var r,i=s(e,t);return i?i.v=n:(e._l=i={i:r=v(t,!0),k:t,v:n,p:t=e._l,n:void 0,r:!1},e._f||(e._f=i),t&&(t.n=i),e[y]++,"F"!==r&&(e._i[r]=i)),e},getEntry:s,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=d(e,n),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?i(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,i(1))},t?"entries":"values",!t,!0),o(n)}}},3657:(e,t,n)=>{"use strict";function s(e){return e._l||(e._l=new r)}function r(){this.a=[]}function i(e,t){return d(e.a,function(e){return e[0]===t})}var a=n(4408),u=n(4728).getWeak,o=n(7007),c=n(5286),f=n(3328),l=n(3531),p=n(50),h=n(9181),v=n(1616),d=p(5),y=p(6),g=0;r.prototype={get:function(e){e=i(this,e);if(e)return e[1]},has:function(e){return!!i(this,e)},set:function(e,t){var n=i(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(t){var e=y(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,r,i){var o=e(function(e,t){f(e,o,n,"_i"),e._t=n,e._i=g++,e._l=void 0,null!=t&&l(t,r,e[i],e)});return a(o.prototype,{delete:function(e){if(!c(e))return!1;var t=u(e);return!0===t?s(v(this,n)).delete(e):t&&h(t,this._i)&&delete t[this._i]},has:function(e){if(!c(e))return!1;var t=u(e);return!0===t?s(v(this,n)).has(e):t&&h(t,this._i)}}),o},def:function(e,t,n){var r=u(o(t),!0);return!0===r?s(e).set(t,n):r[e._i]=n,e},ufstore:s}},5795:(e,t,n)=>{"use strict";var g=n(3816),E=n(2985),m=n(7234),R=n(4408),b=n(4728),I=n(3531),_=n(3328),O=n(5286),w=n(4253),P=n(7462),S=n(2943),T=n(266);e.exports=function(n,e,t,r,i,o){function s(e){var n=d[e];m(d,e,"delete"==e?function(e){return!(o&&!O(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!O(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!O(e)?void 0:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})}var a,u,c,f,l,p=g[n],h=p,v=i?"set":"add",d=h&&h.prototype,y={};return"function"==typeof h&&(o||d.forEach&&!w(function(){(new h).entries().next()}))?(u=(a=new h)[v](o?{}:-0,1)!=a,c=w(function(){a.has(1)}),f=P(function(e){new h(e)}),l=!o&&w(function(){for(var e=new h,t=5;t--;)e[v](t,t);return!e.has(-0)}),f||(((h=e(function(e,t){_(e,h,n);e=T(new p,e,h);return null!=t&&I(t,i,e[v],e),e})).prototype=d).constructor=h),(c||l)&&(s("delete"),s("has"),i&&s("get")),(l||u)&&s(v),o&&d.clear&&delete d.clear):(h=r.getConstructor(e,n,i,v),R(h.prototype,t),b.NEED=!0),S(h,n),y[n]=h,E(E.G+E.W+E.F*(h!=p),y),o||r.setStrong(h,n,i),h}},5645:e=>{e=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},2811:(e,t,n)=>{"use strict";var r=n(9275),i=n(681);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},741:(e,t,n)=>{var o=n(4963);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},3537:(e,t,n)=>{"use strict";function i(e){return 9<e?e:"0"+e}var n=n(4253),o=Date.prototype.getTime,r=Date.prototype.toISOString;e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-5e13-1))})||!n(function(){r.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":9999<t?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"."+(99<n?n:"0"+i(n))+"Z"}:r},870:(e,t,n)=>{"use strict";var r=n(7007),i=n(1689);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},1355:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},7057:(e,t,n)=>{e.exports=!n(4253)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},2457:(e,t,n)=>{var r=n(5286),i=n(3816).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},4430:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:(e,t,n)=>{var a=n(7184),u=n(4548),c=n(4682);e.exports=function(e){var t=a(e),n=u.f;if(n)for(var r,i=n(e),o=c.f,s=0;i.length>s;)o.call(e,r=i[s++])&&t.push(r);return t}},2985:(e,t,n)=>{function h(e,t,n){var r,i,o,s=e&h.F,a=e&h.G,u=e&h.P,c=e&h.B,f=a?v:e&h.S?v[t]||(v[t]={}):(v[t]||{})[m],l=a?d:d[t]||(d[t]={}),p=l[m]||(l[m]={});for(r in n=a?t:n)i=((o=!s&&f&&void 0!==f[r])?f:n)[r],o=c&&o?E(i,v):u&&"function"==typeof i?E(Function.call,i):i,f&&g(f,r,i,e&h.U),l[r]!=i&&y(l,r,o),u&&p[r]!=i&&(p[r]=i)}var v=n(3816),d=n(5645),y=n(7728),g=n(7234),E=n(741),m="prototype";v.core=d,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,e.exports=h},8852:(e,t,n)=>{var r=n(6314)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(e){}}return!0}},4253:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},8082:(e,t,n)=>{"use strict";n(8269);var r,u=n(7234),c=n(7728),f=n(4253),l=n(1355),p=n(6314),h=n(1165),v=p("species"),d=!f(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),y=(r=(n=/(?:)/).exec,n.exec=function(){return r.apply(this,arguments)},2===(n="ab".split(n)).length&&"a"===n[0]&&"b"===n[1]);e.exports=function(n,e,t){var o,r,i=p(n),s=!f(function(){var e={};return e[i]=function(){return 7},7!=""[n](e)}),a=s?!f(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[v]=function(){return t}),t[i](""),!e}):void 0;s&&a&&("replace"!==n||d)&&("split"!==n||y)||(o=/./[i],t=(a=t(l,i,""[n],function(e,t,n,r,i){return t.exec===h?s&&!i?{done:!0,value:o.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}))[0],r=a[1],u(String.prototype,n,t),c(RegExp.prototype,i,2==e?function(e,t){return r.call(e,this,t)}:function(e){return r.call(e,this)}))}},3218:(e,t,n)=>{"use strict";var r=n(7007);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},3325:(e,t,n)=>{"use strict";var v=n(4302),d=n(5286),y=n(875),g=n(741),E=n(6314)("isConcatSpreadable");e.exports=function e(t,n,r,i,o,s,a,u){for(var c,f,l=o,p=0,h=!!a&&g(a,u,3);p<i;){if(p in r){if(c=h?h(r[p],p,n):r[p],f=!1,(f=d(c)?void 0!==(f=c[E])?!!f:v(c):f)&&0<s)l=e(t,n,c,y(c.length),l,s-1)-1;else{if(9007199254740991<=l)throw TypeError();t[l]=c}l++}p++}return l}},3531:(e,t,n)=>{var l=n(741),p=n(8851),h=n(6555),v=n(7007),d=n(875),y=n(9002),g={},E={},n=e.exports=function(e,t,n,r,i){var o,s,a,u,i=i?function(){return e}:y(e),c=l(n,r,t?2:1),f=0;if("function"!=typeof i)throw TypeError(e+" is not iterable!");if(h(i)){for(o=d(e.length);f<o;f++)if((u=t?c(v(s=e[f])[0],s[1]):c(e[f]))===g||u===E)return u}else for(a=i.call(e);!(s=a.next()).done;)if((u=p(a,c,s.value,t))===g||u===E)return u};n.BREAK=g,n.RETURN=E},18:(e,t,n)=>{e.exports=n(3825)("native-function-to-string",Function.toString)},3816:e=>{e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},9181:e=>{var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},7728:(e,t,n)=>{var r=n(9275),i=n(681);e.exports=n(7057)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},639:(e,t,n)=>{n=n(3816).document;e.exports=n&&n.documentElement},1734:(e,t,n)=>{e.exports=!n(7057)&&!n(4253)(function(){return 7!=Object.defineProperty(n(2457)("div"),"a",{get:function(){return 7}}).a})},266:(e,t,n)=>{var r=n(5286),i=n(7375).set;e.exports=function(e,t,n){var t=t.constructor;return t!==n&&"function"==typeof t&&(t=t.prototype)!==n.prototype&&r(t)&&i&&i(e,t),e}},7242:e=>{e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},9797:(e,t,n)=>{var r=n(2032);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6555:(e,t,n)=>{var r=n(2803),i=n(6314)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},4302:(e,t,n)=>{var r=n(2032);e.exports=Array.isArray||function(e){return"Array"==r(e)}},8367:(e,t,n)=>{var r=n(5286),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},5286:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},5364:(e,t,n)=>{var r=n(5286),i=n(2032),o=n(6314)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},8851:(e,t,n)=>{var i=n(7007);e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){r=t.return;throw void 0!==r&&i(r.call(t)),e}}},9988:(e,t,n)=>{"use strict";var r=n(2503),i=n(681),o=n(2943),s={};n(7728)(s,n(6314)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},2923:(e,t,n)=>{"use strict";function g(){return this}var E=n(4461),m=n(2985),R=n(7234),b=n(7728),I=n(2803),_=n(9988),O=n(2943),w=n(468),P=n(6314)("iterator"),S=!([].keys&&"next"in[].keys()),T="values";e.exports=function(e,t,n,r,i,o,s){_(n,t,r);function a(e){if(!S&&e in p)return p[e];switch(e){case"keys":case T:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var u,c,r=t+" Iterator",f=i==T,l=!1,p=e.prototype,h=p[P]||p["@@iterator"]||i&&p[i],v=h||a(i),d=i?f?a("entries"):v:void 0,y="Array"==t&&p.entries||h;if(y&&(y=w(y.call(new e)))!==Object.prototype&&y.next&&(O(y,r,!0),E||"function"==typeof y[P]||b(y,P,g)),f&&h&&h.name!==T&&(l=!0,v=function(){return h.call(this)}),E&&!s||!S&&!l&&p[P]||b(p,P,v),I[t]=v,I[r]=g,i)if(u={values:f?v:a(T),keys:o?v:a("keys"),entries:d},s)for(c in u)c in p||R(p,c,u[c]);else m(m.P+m.F*(S||l),t,u);return u}},7462:(e,t,n)=>{var o=n(6314)("iterator"),s=!1;try{var r=[7][o]();r.return=function(){s=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},5436:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},2803:e=>{e.exports={}},4461:e=>{e.exports=!1},3086:e=>{var t=Math.expm1;e.exports=!t||22025.465794806718<t(10)||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},4934:(e,t,n)=>{var r=n(1801),n=Math.pow,i=n(2,-52),o=n(2,-23),s=n(2,127)*(2-o),a=n(2,-126);e.exports=Math.fround||function(e){var t,n=Math.abs(e),e=r(e);return n<a?e*(n/a/o+1/i-1/i)*a*o:s<(t=(t=(1+o/i)*n)-(t-n))||t!=t?e*(1/0):e*t}},6206:e=>{e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},1801:e=>{e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},4728:(e,t,n)=>{function r(e){a(e,i,{value:{i:"O"+ ++u,w:{}}})}var i=n(3953)("meta"),o=n(5286),s=n(9181),a=n(9275).f,u=0,c=Object.isExtensible||function(){return!0},f=!n(4253)(function(){return c(Object.preventExtensions({}))}),l=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,i)){if(!c(e))return"F";if(!t)return"E";r(e)}return e[i].i},getWeak:function(e,t){if(!s(e,i)){if(!c(e))return!0;if(!t)return!1;r(e)}return e[i].w},onFreeze:function(e){return f&&l.NEED&&c(e)&&!s(e,i)&&r(e),e}}},4351:(e,t,n)=>{var a=n(3816),u=n(4193).set,c=a.MutationObserver||a.WebKitMutationObserver,f=a.process,l=a.Promise,p="process"==n(2032)(f);e.exports=function(){function e(){var e,t;for(p&&(e=f.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?i():r=void 0,e}}r=void 0,e&&e.enter()}var n,r,t,i,o,s;return i=p?function(){f.nextTick(e)}:!c||a.navigator&&a.navigator.standalone?l&&l.resolve?(t=l.resolve(void 0),function(){t.then(e)}):function(){u.call(a,e)}:(o=!0,s=document.createTextNode(""),new c(e).observe(s,{characterData:!0}),function(){s.data=o=!o}),function(e){e={fn:e,next:void 0};r&&(r.next=e),n||(n=e,i()),r=e}}},3499:(e,t,n)=>{"use strict";var i=n(4963);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}e.exports.f=function(e){return new r(e)}},5345:(e,t,n)=>{"use strict";var p=n(7057),h=n(7184),v=n(4548),d=n(4682),y=n(508),g=n(9797),i=Object.assign;e.exports=!i||n(4253)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=y(e),r=arguments.length,i=1,o=v.f,s=d.f;i<r;)for(var a,u=g(arguments[i++]),c=o?h(u).concat(o(u)):h(u),f=c.length,l=0;l<f;)a=c[l++],p&&!s.call(u,a)||(n[a]=u[a]);return n}:i},2503:(e,t,n)=>{function r(){}var i=n(7007),o=n(5588),s=n(4430),a=n(9335)("IE_PROTO"),u="prototype",c=function(){var e=n(2457)("iframe"),t=s.length;for(e.style.display="none",n(639).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;t--;)delete c[u][s[t]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(r[u]=i(e),n=new r,r[u]=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},9275:(e,t,n)=>{var r=n(7007),i=n(1734),o=n(1689),s=Object.defineProperty;t.f=n(7057)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},5588:(e,t,n)=>{var s=n(9275),a=n(7007),u=n(7184);e.exports=n(7057)?Object.defineProperties:function(e,t){a(e);for(var n,r=u(t),i=r.length,o=0;o<i;)s.f(e,n=r[o++],t[n]);return e}},8693:(e,t,n)=>{var r=n(4682),i=n(681),o=n(2110),s=n(1689),a=n(9181),u=n(1734),c=Object.getOwnPropertyDescriptor;t.f=n(7057)?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},9327:(e,t,n)=>{var r=n(2110),i=n(616).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){if(!s||"[object Window]"!=o.call(e))return i(r(e));try{return i(e)}catch(e){return s.slice()}}},616:(e,t,n)=>{var r=n(189),i=n(4430).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},4548:(e,t)=>{t.f=Object.getOwnPropertySymbols},468:(e,t,n)=>{var r=n(9181),i=n(508),o=n(9335)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},189:(e,t,n)=>{var s=n(9181),a=n(2110),u=n(9315)(!1),c=n(9335)("IE_PROTO");e.exports=function(e,t){var n,r=a(e),i=0,o=[];for(n in r)n!=c&&s(r,n)&&o.push(n);for(;t.length>i;)!s(r,n=t[i++])||~u(o,n)||o.push(n);return o}},7184:(e,t,n)=>{var r=n(189),i=n(4430);e.exports=Object.keys||function(e){return r(e,i)}},4682:(e,t)=>{t.f={}.propertyIsEnumerable},3160:(e,t,n)=>{var i=n(2985),o=n(5645),s=n(4253);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*s(function(){n(1)}),"Object",r)}},1131:(e,t,n)=>{var u=n(7057),c=n(7184),f=n(2110),l=n(4682).f;e.exports=function(a){return function(e){for(var t,n=f(e),r=c(n),i=r.length,o=0,s=[];o<i;)t=r[o++],u&&!l.call(n,t)||s.push(a?[t,n[t]]:n[t]);return s}}},7643:(e,t,n)=>{var r=n(616),i=n(4548),o=n(7007),n=n(3816).Reflect;e.exports=n&&n.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},7743:(e,t,n)=>{var r=n(3816).parseFloat,i=n(9599).trim;e.exports=1/r(n(4644)+"-0")!=-1/0?function(e){var e=i(String(e),3),t=r(e);return 0===t&&"-"==e.charAt(0)?-0:t}:r},5960:(e,t,n)=>{var r=n(3816).parseInt,i=n(9599).trim,n=n(4644),o=/^[-+]?0[xX]/;e.exports=8!==r(n+"08")||22!==r(n+"0x16")?function(e,t){e=i(String(e),3);return r(e,t>>>0||(o.test(e)?16:10))}:r},188:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},94:(e,t,n)=>{var r=n(7007),i=n(5286),o=n(3499);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;e=o.f(e);return(0,e.resolve)(t),e.promise}},681:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4408:(e,t,n)=>{var i=n(7234);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},7234:(e,t,n)=>{var o=n(3816),s=n(7728),a=n(9181),u=n(3953)("src"),r=n(18),i="toString",c=(""+r).split(i);n(5645).inspectSource=function(e){return r.call(e)},(e.exports=function(e,t,n,r){var i="function"==typeof n;i&&!a(n,"name")&&s(n,"name",t),e[t]!==n&&(i&&!a(n,u)&&s(n,u,e[t]?""+e[t]:c.join(String(t))),e===o?e[t]=n:r?e[t]?e[t]=n:s(e,t,n):(delete e[t],s(e,t,n)))})(Function.prototype,i,function(){return"function"==typeof this&&this[u]||r.call(this)})},7787:(e,t,n)=>{"use strict";var r=n(1488),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){n=n.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},1165:(e,t,n)=>{"use strict";var r,i,s=n(3218),a=RegExp.prototype.exec,u=String.prototype.replace,n=a,c="lastIndex",f=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[c]||0!==i[c]),l=void 0!==/()??/.exec("")[1];e.exports=n=f||l?function(e){var t,n,r,i,o=this;return l&&(n=new RegExp("^"+o.source+"$(?!\\s)",s.call(o))),f&&(t=o[c]),r=a.call(o,e),f&&r&&(o[c]=o.global?r.index+r[0].length:t),l&&r&&1<r.length&&u.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}:n},7195:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},7375:(e,t,i)=>{function o(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=i(5286),r=i(7007);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=i(741)(Function.call,i(8693).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:o}},2974:(e,t,n)=>{"use strict";var r=n(3816),i=n(9275),o=n(7057),s=n(6314)("species");e.exports=function(e){e=r[e];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},2943:(e,t,n)=>{var r=n(9275).f,i=n(9181),o=n(6314)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},9335:(e,t,n)=>{var r=n(3825)("keys"),i=n(3953);e.exports=function(e){return r[e]||(r[e]=i(e))}},3825:(e,t,n)=>{var r=n(5645),i=n(3816),o="__core-js_shared__",s=i[o]||(i[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(4461)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},8364:(e,t,n)=>{var r=n(7007),i=n(4963),o=n(6314)("species");e.exports=function(e,t){var e=r(e).constructor;return void 0===e||null==(e=r(e)[o])?t:i(e)}},7717:(e,t,n)=>{"use strict";var r=n(4253);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},4496:(e,t,n)=>{var o=n(1467),s=n(1355);e.exports=function(i){return function(e,t){var n,e=String(s(e)),t=o(t),r=e.length;return t<0||r<=t?i?"":void 0:(n=e.charCodeAt(t))<55296||56319<n||t+1===r||(r=e.charCodeAt(t+1))<56320||57343<r?i?e.charAt(t):n:i?e.slice(t,t+2):r-56320+(n-55296<<10)+65536}}},2094:(e,t,n)=>{var r=n(5364),i=n(1355);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},9395:(e,t,n)=>{function r(e,t,n,r){var e=String(s(e)),i="<"+t;return""!==n&&(i+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),i+">"+e+"</"+t+">"}var i=n(2985),o=n(4253),s=n(1355),a=/"/g;e.exports=function(t,e){var n={};n[t]=e(r),i(i.P+i.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",n)}},5442:(e,t,n)=>{var o=n(875),s=n(8595),a=n(1355);e.exports=function(e,t,n,r){var e=String(a(e)),i=e.length,n=void 0===n?" ":String(n),t=o(t);if(t<=i||""==n)return e;t-=i,i=s.call(n,Math.ceil(t/n.length));return i.length>t&&(i=i.slice(0,t)),r?i+e:e+i}},8595:(e,t,n)=>{"use strict";var i=n(1467),o=n(1355);e.exports=function(e){var t=String(o(this)),n="",r=i(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},9599:(e,t,n)=>{function r(e,t,n){var r={},i=s(function(){return!!a[e]()||"​"!="​"[e]()}),t=r[e]=i?t(f):a[e];n&&(r[n]=t),o(o.P+o.F*i,"String",r)}var o=n(2985),i=n(1355),s=n(4253),a=n(4644),n="["+a+"]",u=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),f=r.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),e=2&t?e.replace(c,""):e};e.exports=r},4644:e=>{e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},4193:(e,t,n)=>{function r(){var e,t=+this;g.hasOwnProperty(t)&&(e=g[t],delete g[t],e())}function i(e){r.call(e.data)}var o,s=n(741),a=n(7242),u=n(639),c=n(2457),f=n(3816),l=f.process,p=f.setImmediate,h=f.clearImmediate,v=f.MessageChannel,d=f.Dispatch,y=0,g={},E="onreadystatechange";p&&h||(p=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return g[++y]=function(){a("function"==typeof e?e:Function(e),t)},o(y),y},h=function(e){delete g[e]},"process"==n(2032)(l)?o=function(e){l.nextTick(s(r,e,1))}:d&&d.now?o=function(e){d.now(s(r,e,1))}:v?(v=(n=new v).port2,n.port1.onmessage=i,o=s(v.postMessage,v,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(o=function(e){f.postMessage(e+"","*")},f.addEventListener("message",i,!1)):o=E in c("script")?function(e){u.appendChild(c("script"))[E]=function(){u.removeChild(this),r.call(e)}}:function(e){setTimeout(s(r,e,1),0)}),e.exports={set:p,clear:h}},2337:(e,t,n)=>{var r=n(1467),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},4843:(e,t,n)=>{var r=n(1467),i=n(875);e.exports=function(e){if(void 0===e)return 0;var e=r(e),t=i(e);if(e!==t)throw RangeError("Wrong length!");return t}},1467:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:t)(e)}},2110:(e,t,n)=>{var r=n(9797),i=n(1355);e.exports=function(e){return r(i(e))}},875:(e,t,n)=>{var r=n(1467),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},508:(e,t,n)=>{var r=n(1355);e.exports=function(e){return Object(r(e))}},1689:(e,t,n)=>{var i=n(5286);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(t||"function"!=typeof(n=e.toString)||i(r=n.call(e)))throw TypeError("Can't convert object to primitive value");return r}},8440:(L,B,e)=>{"use strict";var h,v,d,y,g,M,U,j,E,t,V,m,G,q,Y,r,K,R,W,J,H,X,b,Q,z,Z,n,i,$,ee,te,ne,re,ie,I,oe,_,se,o,ae,ue,ce,O,w,fe,le,pe,he,ve,de,ye,ge,Ee,me,Re,be,Ie,_e,Oe,we,Pe,Se,P,s,S,T,Te,A,a,N,Ae,k,Ne,ke,xe,x,u,l,De,D,c,Ce,Fe,Le,Be,Me,Ue,je,C,Ve,f,p,F;e(7057)?(h=e(4461),v=e(3816),d=e(4253),y=e(2985),g=e(9383),a=e(1125),M=e(741),U=e(3328),j=e(681),E=e(7728),t=e(4408),V=e(1467),m=e(875),G=e(4843),q=e(2337),Y=e(1689),r=e(9181),K=e(1488),R=e(5286),W=e(508),J=e(6555),H=e(2503),X=e(468),b=e(616).f,Q=e(9002),z=e(3953),Z=e(6314),n=e(50),c=e(9315),i=e(8364),f=e(6997),$=e(2803),ee=e(7462),te=e(2974),ne=e(6852),re=e(5216),ie=e(9275),e=e(8693),I=ie.f,oe=e.f,_=v.RangeError,se=v.TypeError,o=v.Uint8Array,ue="Shared"+(ae="ArrayBuffer"),ce="BYTES_PER_ELEMENT",O="prototype",p=Array[O],w=a.ArrayBuffer,fe=a.DataView,le=n(0),pe=n(2),he=n(3),ve=n(4),de=n(5),ye=n(6),ge=c(!0),Ee=c(!1),me=f.values,Re=f.keys,be=f.entries,Ie=p.lastIndexOf,_e=p.reduce,Oe=p.reduceRight,we=p.join,Pe=p.sort,Se=p.slice,P=p.toString,s=p.toLocaleString,S=Z("iterator"),T=Z("toStringTag"),Te=z("typed_constructor"),A=z("def_constructor"),a=g.CONSTR,N=g.TYPED,Ae=g.VIEW,k="Wrong length!",Ne=n(1,function(e,t){return l(i(e,e[A]),t)}),ke=d(function(){return 1===new o(new Uint16Array([1]).buffer)[0]}),xe=!!o&&!!o[O].set&&d(function(){new o(1).set({})}),x=function(e,t){e=V(e);if(e<0||e%t)throw _("Wrong offset!");return e},u=function(e){if(R(e)&&N in e)return e;throw se(e+" is not a typed array!")},l=function(e,t){if(R(e)&&Te in e)return new e(t);throw se("It is not a typed array constructor!")},De=function(e,t){return D(i(e,e[A]),t)},D=function(e,t){for(var n=0,r=t.length,i=l(e,r);n<r;)i[n]=t[n++];return i},c=function(e,t,n){I(e,t,{get:function(){return this._d[n]}})},Ce=function(e){var t,n,r,i,o,s,a=W(e),e=arguments.length,u=1<e?arguments[1]:void 0,c=void 0!==u,f=Q(a);if(null!=f&&!J(f)){for(s=f.call(a),r=[],t=0;!(o=s.next()).done;t++)r.push(o.value);a=r}for(c&&2<e&&(u=M(u,arguments[2],2)),t=0,n=m(a.length),i=l(this,n);t<n;t++)i[t]=c?u(a[t],t):a[t];return i},Fe=function(){for(var e=0,t=arguments.length,n=l(this,t);e<t;)n[e]=arguments[e++];return n},Le=!!o&&d(function(){s.call(new o(1))}),Be=function(){return s.apply(Le?Se.call(u(this)):u(this),arguments)},Me={copyWithin:function(e,t){return re.call(u(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return ve(u(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(e){return ne.apply(u(this),arguments)},filter:function(e){return De(this,pe(u(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return de(u(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return ye(u(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){le(u(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return Ee(u(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return ge(u(this),e,1<arguments.length?arguments[1]:void 0)},join:function(e){return we.apply(u(this),arguments)},lastIndexOf:function(e){return Ie.apply(u(this),arguments)},map:function(e){return Ne(u(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(e){return _e.apply(u(this),arguments)},reduceRight:function(e){return Oe.apply(u(this),arguments)},reverse:function(){for(var e,t=this,n=u(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return he(u(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return Pe.call(u(this),e)},subarray:function(e,t){var n=u(this),r=n.length,e=q(e,r);return new(i(n,n[A]))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,m((void 0===t?r:q(t,r))-e))}},Ue=function(e,t){return De(this,Se.call(u(this),e,t))},je=function(e){u(this);var t=x(arguments[1],1),n=this.length,r=W(e),i=m(r.length),o=0;if(n<i+t)throw _(k);for(;o<i;)this[t+o]=r[o++]},C={entries:function(){return be.call(u(this))},keys:function(){return Re.call(u(this))},values:function(){return me.call(u(this))}},Ve=function(e,t){return R(e)&&e[N]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},f=function(e,t){return Ve(e,t=Y(t,!0))?j(2,e[t]):oe(e,t)},p=function(e,t,n){return!(Ve(e,t=Y(t,!0))&&R(n)&&r(n,"value"))||r(n,"get")||r(n,"set")||n.configurable||r(n,"writable")&&!n.writable||r(n,"enumerable")&&!n.enumerable?I(e,t,n):(e[t]=n.value,e)},a||(e.f=f,ie.f=p),y(y.S+y.F*!a,"Object",{getOwnPropertyDescriptor:f,defineProperty:p}),d(function(){P.call({})})&&(P=s=function(){return we.call(this)}),F=t({},Me),t(F,C),E(F,S,C.values),t(F,{slice:Ue,set:je,constructor:function(){},toString:P,toLocaleString:Be}),c(F,"buffer","b"),c(F,"byteOffset","o"),c(F,"byteLength","l"),c(F,"length","e"),I(F,T,{get:function(){return this[N]}}),L.exports=function(e,c,t,i){function f(e,r){I(e,r,{get:function(){var e=this,t=r;return(e=e._d).v[n](t*c+e.o,ke)},set:function(e){var t=this,n=r;t=t._d,i&&(e=(e=Math.round(e))<0?0:255<e?255:255&e),t.v[o](n*c+t.o,e,ke)},enumerable:!0})}var l=e+((i=!!i)?"Clamped":"")+"Array",n="get"+e,o="set"+e,p=v[l],s=p||{},e=p&&X(p),r=!p||!g.ABV,a={},u=p&&p[O],r=(r?(p=t(function(e,t,n,r){U(e,p,l,"_d");var i,o,s=0,a=0;if(R(t)){if(!(t instanceof w||(u=K(t))==ae||u==ue))return N in t?D(p,t):Ce.call(p,t);var u=t,a=x(n,c),n=t.byteLength;if(void 0===r){if(n%c)throw _(k);if((i=n-a)<0)throw _(k)}else if(n<(i=m(r)*c)+a)throw _(k);o=i/c}else o=G(t),u=new w(i=o*c);for(E(e,"_d",{b:u,o:a,l:i,e:o,v:new fe(u)});s<o;)f(e,s++)}),u=p[O]=H(F),E(u,"constructor",p)):d(function(){p(1)})&&d(function(){new p(-1)})&&ee(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=t(function(e,t,n,r){return U(e,p,l),R(t)?t instanceof w||(e=K(t))==ae||e==ue?void 0!==r?new s(t,x(n,c),r):void 0!==n?new s(t,x(n,c)):new s(t):N in t?D(p,t):Ce.call(p,t):new s(G(t))}),le(e!==Function.prototype?b(s).concat(b(e)):b(s),function(e){e in p||E(p,e,s[e])}),p[O]=u,h||(u.constructor=p)),u[S]),t=!!r&&("values"==r.name||null==r.name),e=C.values;E(p,Te,!0),E(u,N,l),E(u,Ae,!0),E(u,A,p),(i?new p(1)[T]==l:T in u)||I(u,T,{get:function(){return l}}),a[l]=p,y(y.G+y.W+y.F*(p!=s),a),y(y.S,l,{BYTES_PER_ELEMENT:c}),y(y.S+y.F*d(function(){s.of.call(p,1)}),l,{from:Ce,of:Fe}),ce in u||E(u,ce,c),y(y.P,l,Me),te(l),y(y.P+y.F*xe,l,{set:je}),y(y.P+y.F*!t,l,C),h||u.toString==P||(u.toString=P),y(y.P+y.F*d(function(){new p(1).slice()}),l,{slice:Ue}),y(y.P+y.F*(d(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!d(function(){u.toLocaleString.call([1,2])})),l,{toLocaleString:Be}),$[l]=t?r:e,h||t||E(u,S,e)}):L.exports=function(){}},1125:(L,e,t)=>{"use strict";var n=t(3816),r=t(7057),B=t(4461),i=t(9383),o=t(7728),s=t(4408),a=t(4253),u=t(3328),M=t(1467),U=t(875),f=t(4843),c=t(616).f,j=t(9275).f,V=t(6852),t=t(2943),l="ArrayBuffer",p="DataView",h="prototype",v="Wrong index!",d=n[l],y=n[p],g=n.Math,E=n.RangeError,m=n.Infinity,R=d,G=g.abs,b=g.pow,q=g.floor,Y=g.log,K=g.LN2,n="byteLength",g="byteOffset",I=r?"_b":"buffer",_=r?"_l":n,O=r?"_o":g;function w(e,t,n){var r,i,o,s=new Array(n),a=8*n-t-1,n=(1<<a)-1,u=n>>1,c=23===t?b(2,-24)-b(2,-77):0,f=0,l=e<0||0===e&&1/e<0?1:0;for((e=G(e))!=e||e===m?(i=e!=e?1:0,r=n):(r=q(Y(e)/K),e*(o=b(2,-r))<1&&(r--,o*=2),2<=(e+=1<=r+u?c/o:c*b(2,1-u))*o&&(r++,o/=2),n<=r+u?(i=0,r=n):1<=r+u?(i=(e*o-1)*b(2,t),r+=u):(i=e*b(2,u-1)*b(2,t),r=0));8<=t;s[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,a+=t;0<a;s[f++]=255&r,r/=256,a-=8);return s[--f]|=128*l,s}function P(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,s=o>>1,a=i-7,u=n-1,i=e[u--],c=127&i;for(i>>=7;0<a;c=256*c+e[u],u--,a-=8);for(r=c&(1<<-a)-1,c>>=-a,a+=t;0<a;r=256*r+e[u],u--,a-=8);if(0===c)c=1-s;else{if(c===o)return r?NaN:i?-m:m;r+=b(2,t),c-=s}return(i?-1:1)*r*b(2,c-t)}function S(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function T(e){return[255&e]}function A(e){return[255&e,e>>8&255]}function N(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function W(e){return w(e,52,8)}function J(e){return w(e,23,4)}function k(e,t,n){j(e[h],t,{get:function(){return this[n]}})}function x(e,t,n,r){n=f(+n);if(n+t>e[_])throw E(v);var i=e[I]._b,n=n+e[O],e=i.slice(n,n+t);return r?e:e.reverse()}function D(e,t,n,r,i,o){n=f(+n);if(n+t>e[_])throw E(v);for(var s=e[I]._b,a=n+e[O],u=r(+i),c=0;c<t;c++)s[a+c]=u[o?c:t-c-1]}if(i.ABV){if(!a(function(){d(1)})||!a(function(){new d(-1)})||a(function(){return new d,new d(1.5),new d(NaN),d.name!=l})){for(var C,a=(d=function(e){return u(this,d),new R(f(e))})[h]=R[h],F=c(R),H=0;F.length>H;)(C=F[H++])in d||o(d,C,R[C]);B||(a.constructor=d)}var c=new y(new d(2)),X=y[h].setInt8;c.setInt8(0,2147483648),c.setInt8(1,2147483649),!c.getInt8(0)&&c.getInt8(1)||s(y[h],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else d=function(e){u(this,d,l);e=f(e);this._b=V.call(new Array(e),0),this[_]=e},y=function(e,t,n){u(this,y,p),u(e,d,p);var r=e[_],t=M(t);if(t<0||r<t)throw E("Wrong offset!");if(r<t+(n=void 0===n?r-t:U(n)))throw E("Wrong length!");this[I]=e,this[O]=t,this[_]=n},r&&(k(d,n,"_l"),k(y,"buffer","_b"),k(y,n,"_l"),k(y,g,"_o")),s(y[h],{getInt8:function(e){return x(this,1,e)[0]<<24>>24},getUint8:function(e){return x(this,1,e)[0]},getInt16:function(e){e=x(this,2,e,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(e){e=x(this,2,e,arguments[1]);return e[1]<<8|e[0]},getInt32:function(e){return S(x(this,4,e,arguments[1]))},getUint32:function(e){return S(x(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return P(x(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return P(x(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){D(this,1,e,T,t)},setUint8:function(e,t){D(this,1,e,T,t)},setInt16:function(e,t){D(this,2,e,A,t,arguments[2])},setUint16:function(e,t){D(this,2,e,A,t,arguments[2])},setInt32:function(e,t){D(this,4,e,N,t,arguments[2])},setUint32:function(e,t){D(this,4,e,N,t,arguments[2])},setFloat32:function(e,t){D(this,4,e,J,t,arguments[2])},setFloat64:function(e,t){D(this,8,e,W,t,arguments[2])}});t(d,l),t(y,p),o(y[h],i.VIEW,!0),e[l]=d,e[p]=y},9383:(e,t,n)=>{for(var r,i=n(3816),o=n(7728),n=n(3953),s=n("typed_array"),a=n("view"),n=!(!i.ArrayBuffer||!i.DataView),u=n,c=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(r=i[f[c++]])?(o(r.prototype,s,!0),o(r.prototype,a,!0)):u=!1;e.exports={ABV:n,CONSTR:u,TYPED:s,VIEW:a}},3953:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},575:(e,t,n)=>{n=n(3816).navigator;e.exports=n&&n.userAgent||""},1616:(e,t,n)=>{var r=n(5286);e.exports=function(e,t){if(r(e)&&e._t===t)return e;throw TypeError("Incompatible receiver, "+t+" required!")}},6074:(e,t,n)=>{var r=n(3816),i=n(5645),o=n(4461),s=n(8787),a=n(9275).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=!o&&r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},8787:(e,t,n)=>{t.f=n(6314)},6314:(e,t,n)=>{var r=n(3825)("wks"),i=n(3953),o=n(3816).Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=r},9002:(e,t,n)=>{var r=n(1488),i=n(6314)("iterator"),o=n(2803);e.exports=n(5645).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},2e3:(e,t,n)=>{var r=n(2985);r(r.P,"Array",{copyWithin:n(5216)}),n(7722)("copyWithin")},5745:(e,t,n)=>{"use strict";var r=n(2985),i=n(50)(4);r(r.P+r.F*!n(7717)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},8977:(e,t,n)=>{var r=n(2985);r(r.P,"Array",{fill:n(6852)}),n(7722)("fill")},8837:(e,t,n)=>{"use strict";var r=n(2985),i=n(50)(2);r(r.P+r.F*!n(7717)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},4899:(e,t,n)=>{"use strict";var r=n(2985),i=n(50)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(7722)(o)},2310:(e,t,n)=>{"use strict";var r=n(2985),i=n(50)(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(7722)(o)},4336:(e,t,n)=>{"use strict";var r=n(2985),i=n(50)(0),n=n(7717)([].forEach,!0);r(r.P+r.F*!n,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},522:(e,t,n)=>{"use strict";var l=n(741),r=n(2985),p=n(508),h=n(8851),v=n(6555),d=n(875),y=n(2811),g=n(9002);r(r.S+r.F*!n(7462)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,i,o=p(e),e="function"==typeof this?this:Array,s=arguments.length,a=1<s?arguments[1]:void 0,u=void 0!==a,c=0,f=g(o);if(u&&(a=l(a,2<s?arguments[2]:void 0,2)),null==f||e==Array&&v(f))for(n=new e(t=d(o.length));c<t;c++)y(n,c,u?a(o[c],c):o[c]);else for(i=f.call(o),n=new e;!(r=i.next()).done;c++)y(n,c,u?h(i,a,[r.value,c],!0):r.value);return n.length=c,n}})},3369:(e,t,n)=>{"use strict";var r=n(2985),i=n(9315)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(7717)(o)),"Array",{indexOf:function(e){return s?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},774:(e,t,n)=>{var r=n(2985);r(r.S,"Array",{isArray:n(4302)})},6997:(e,t,n)=>{"use strict";var r=n(7722),i=n(5436),o=n(2803),s=n(2110);e.exports=n(2923)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},7842:(e,t,n)=>{"use strict";var r=n(2985),i=n(2110),o=[].join;r(r.P+r.F*(n(9797)!=Object||!n(7717)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},9564:(e,t,n)=>{"use strict";var r=n(2985),i=n(2110),o=n(1467),s=n(875),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(7717)(a)),"Array",{lastIndexOf:function(e){if(u)return a.apply(this,arguments)||0;var t=i(this),n=s(t.length),r=n-1;for((r=1<arguments.length?Math.min(r,o(arguments[1])):r)<0&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}})},1802:(e,t,n)=>{"use strict";var r=n(2985),i=n(50)(1);r(r.P+r.F*!n(7717)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},8295:(e,t,n)=>{"use strict";var r=n(2985),i=n(2811);r(r.S+r.F*n(4253)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)i(n,e,arguments[e++]);return n.length=t,n}})},3750:(e,t,n)=>{"use strict";var r=n(2985),i=n(7628);r(r.P+r.F*!n(7717)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},3057:(e,t,n)=>{"use strict";var r=n(2985),i=n(7628);r(r.P+r.F*!n(7717)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},110:(e,t,n)=>{"use strict";var r=n(2985),i=n(639),u=n(2032),c=n(2337),f=n(875),l=[].slice;r(r.P+r.F*n(4253)(function(){i&&l.call(i)}),"Array",{slice:function(e,t){var n=f(this.length),r=u(this);if(t=void 0===t?n:t,"Array"==r)return l.call(this,e,t);for(var i=c(e,n),e=c(t,n),o=f(e-i),s=new Array(o),a=0;a<o;a++)s[a]="String"==r?this.charAt(i+a):this[i+a];return s}})},6773:(e,t,n)=>{"use strict";var r=n(2985),i=n(50)(3);r(r.P+r.F*!n(7717)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},75:(e,t,n)=>{"use strict";var r=n(2985),i=n(4963),o=n(508),s=n(4253),a=[].sort,u=[1,2,3];r(r.P+r.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!n(7717)(a)),"Array",{sort:function(e){return void 0===e?a.call(o(this)):a.call(o(this),i(e))}})},1842:(e,t,n)=>{n(2974)("Array")},1822:(e,t,n)=>{n=n(2985);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},1031:(e,t,n)=>{var r=n(2985),n=n(3537);r(r.P+r.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},9977:(e,t,n)=>{"use strict";var r=n(2985),i=n(508),o=n(1689);r(r.P+r.F*n(4253)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},1560:(e,t,n)=>{var r=n(6314)("toPrimitive"),i=Date.prototype;r in i||n(7728)(i,r,n(870))},6331:(e,t,n)=>{var r=Date.prototype,i="Invalid Date",o="toString",s=r[o],a=r.getTime;new Date(NaN)+""!=i&&n(7234)(r,o,function(){var e=a.call(this);return e==e?s.call(this):i})},9730:(e,t,n)=>{var r=n(2985);r(r.P,"Function",{bind:n(4398)})},8377:(e,t,n)=>{"use strict";var r=n(5286),i=n(468),o=n(6314)("hasInstance"),s=Function.prototype;o in s||n(9275).f(s,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},6059:(e,t,n)=>{var r=n(9275).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(7057)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},8416:(e,t,n)=>{"use strict";var r=n(9824),i=n(1616);e.exports=n(5795)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){e=r.getEntry(i(this,"Map"),e);return e&&e.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},6503:(e,t,n)=>{var r=n(2985),i=n(6206),o=Math.sqrt,n=Math.acosh;r(r.S+r.F*!(n&&710==Math.floor(n(Number.MAX_VALUE))&&n(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},6786:(e,t,n)=>{var n=n(2985),r=Math.asinh;n(n.S+n.F*!(r&&0<1/r(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},932:(e,t,n)=>{var n=n(2985),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},7526:(e,t,n)=>{var r=n(2985),i=n(1801);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},1591:(e,t,n)=>{n=n(2985);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},9073:(e,t,n)=>{var n=n(2985),r=Math.exp;n(n.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},347:(e,t,n)=>{var r=n(2985),n=n(3086);r(r.S+r.F*(n!=Math.expm1),"Math",{expm1:n})},579:(e,t,n)=>{var r=n(2985);r(r.S,"Math",{fround:n(4934)})},4669:(e,t,n)=>{var n=n(2985),u=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var n,r,i=0,o=0,s=arguments.length,a=0;o<s;)a<(n=u(arguments[o++]))?(i=i*(r=a/n)*r+1,a=n):i+=0<n?(r=n/a)*r:n;return a===1/0?1/0:a*Math.sqrt(i)}})},7710:(e,t,n)=>{var r=n(2985),i=Math.imul;r(r.S+r.F*n(4253)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=65535,e=+e,t=+t,r=n&e,i=n&t;return 0|r*i+((n&e>>>16)*i+r*(n&t>>>16)<<16>>>0)}})},5789:(e,t,n)=>{n=n(2985);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},3514:(e,t,n)=>{var r=n(2985);r(r.S,"Math",{log1p:n(6206)})},9978:(e,t,n)=>{n=n(2985);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},8472:(e,t,n)=>{var r=n(2985);r(r.S,"Math",{sign:n(1801)})},6946:(e,t,n)=>{var r=n(2985),i=n(3086),o=Math.exp;r(r.S+r.F*n(4253)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},5068:(e,t,n)=>{var r=n(2985),i=n(3086),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},413:(e,t,n)=>{n=n(2985);n(n.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},1246:(e,t,n)=>{"use strict";function r(e){if("string"==typeof(t=c(e,!1))&&2<t.length){var t,n,r,i,e=(t=E?t.trim():h(t,3)).charCodeAt(0);if(43===e||45===e){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var o,s=t.slice(2),a=0,u=s.length;a<u;a++)if((o=s.charCodeAt(a))<48||i<o)return NaN;return parseInt(s,r)}}return+t}var i=n(3816),o=n(9181),s=n(2032),a=n(266),c=n(1689),u=n(4253),f=n(616).f,l=n(8693).f,p=n(9275).f,h=n(9599).trim,v="Number",d=R=i[v],y=R.prototype,g=s(n(2503)(y))==v,E="trim"in String.prototype;if(!R(" 0o1")||!R("0b1")||R("+0x1")){for(var m,R=function(e){var e=arguments.length<1?0:e,t=this;return t instanceof R&&(g?u(function(){y.valueOf.call(t)}):s(t)!=v)?a(new d(r(e)),t,R):r(e)},b=n(7057)?f(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;b.length>I;I++)o(d,m=b[I])&&!o(R,m)&&p(R,m,l(d,m));(R.prototype=y).constructor=R,n(7234)(i,v,R)}},5972:(e,t,n)=>{n=n(2985);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},3403:(e,t,n)=>{var r=n(2985),i=n(3816).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},2516:(e,t,n)=>{var r=n(2985);r(r.S,"Number",{isInteger:n(8367)})},9371:(e,t,n)=>{n=n(2985);n(n.S,"Number",{isNaN:function(e){return e!=e}})},6479:(e,t,n)=>{var r=n(2985),i=n(8367),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},1736:(e,t,n)=>{n=n(2985);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},1889:(e,t,n)=>{n=n(2985);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},5177:(e,t,n)=>{var r=n(2985),n=n(7743);r(r.S+r.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},6943:(e,t,n)=>{var r=n(2985),n=n(5960);r(r.S+r.F*(Number.parseInt!=n),"Number",{parseInt:n})},726:(e,t,n)=>{"use strict";function s(e,t){for(var n=-1,r=t;++n<6;)r+=e*h[n],h[n]=r%1e7,r=o(r/1e7)}function a(e){for(var t=6,n=0;0<=--t;)n+=h[t],h[t]=o(n/e),n=n%e*1e7}function u(){for(var e,t=6,n="";0<=--t;)""===n&&0!==t&&0===h[t]||(e=String(h[t]),n=""===n?e:n+p.call("0",7-e.length)+e);return n}function c(e,t,n){return 0===t?n:t%2==1?c(e,t-1,n*e):c(e*e,t/2,n)}var r=n(2985),f=n(1467),l=n(3365),p=n(8595),i=1..toFixed,o=Math.floor,h=[0,0,0,0,0,0],v="Number.toFixed: incorrect invocation!";r(r.P+r.F*(!!i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!n(4253)(function(){i.call({})})),"Number",{toFixed:function(e){var t,n,r=l(this,v),e=f(e),i="",o="0";if(e<0||20<e)throw RangeError(v);if(r!=r)return"NaN";if(r<=-1e21||1e21<=r)return String(r);if(r<0&&(i="-",r=-r),1e-21<r)if(r=(t=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(r*c(2,69,1))-69)<0?r*c(2,-t,1):r/c(2,t,1),r*=4503599627370496,0<(t=52-t)){for(s(0,r),n=e;7<=n;)s(1e7,0),n-=7;for(s(c(10,n,1),0),n=t-1;23<=n;)a(1<<23),n-=23;a(1<<n),s(1,1),a(2),o=u()}else s(0,r),s(1<<-t,0),o=u()+p.call("0",e);return o=0<e?i+((r=o.length)<=e?"0."+p.call("0",e-r)+o:o.slice(0,r-e)+"."+o.slice(r-e)):i+o}})},1901:(e,t,n)=>{"use strict";var r=n(2985),i=n(4253),o=n(3365),s=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==s.call(1,void 0)})||!i(function(){s.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?s.call(t):s.call(t,e)}})},5115:(e,t,n)=>{var r=n(2985);r(r.S+r.F,"Object",{assign:n(5345)})},8132:(e,t,n)=>{var r=n(2985);r(r.S,"Object",{create:n(2503)})},7470:(e,t,n)=>{var r=n(2985);r(r.S+r.F*!n(7057),"Object",{defineProperties:n(5588)})},8388:(e,t,n)=>{var r=n(2985);r(r.S+r.F*!n(7057),"Object",{defineProperty:n(9275).f})},9375:(e,t,n)=>{var r=n(5286),i=n(4728).onFreeze;n(3160)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},4882:(e,t,n)=>{var r=n(2110),i=n(8693).f;n(3160)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},9622:(e,t,n)=>{n(3160)("getOwnPropertyNames",function(){return n(9327).f})},1520:(e,t,n)=>{var r=n(508),i=n(468);n(3160)("getPrototypeOf",function(){return function(e){return i(r(e))}})},9892:(e,t,n)=>{var r=n(5286);n(3160)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},4157:(e,t,n)=>{var r=n(5286);n(3160)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},5095:(e,t,n)=>{var r=n(5286);n(3160)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},9176:(e,t,n)=>{var r=n(2985);r(r.S,"Object",{is:n(7195)})},7476:(e,t,n)=>{var r=n(508),i=n(7184);n(3160)("keys",function(){return function(e){return i(r(e))}})},4672:(e,t,n)=>{var r=n(5286),i=n(4728).onFreeze;n(3160)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},3533:(e,t,n)=>{var r=n(5286),i=n(4728).onFreeze;n(3160)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},8838:(e,t,n)=>{var r=n(2985);r(r.S,"Object",{setPrototypeOf:n(7375).set})},6253:(e,t,n)=>{"use strict";var r=n(1488),i={};i[n(6314)("toStringTag")]="z",i+""!="[object z]"&&n(7234)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},4299:(e,t,n)=>{var r=n(2985),n=n(7743);r(r.G+r.F*(parseFloat!=n),{parseFloat:n})},1084:(e,t,n)=>{var r=n(2985),n=n(5960);r(r.G+r.F*(parseInt!=n),{parseInt:n})},851:(e,L,n)=>{"use strict";function r(){}var t,i,o,s,a=n(4461),p=n(3816),u=n(741),c=n(1488),f=n(2985),l=n(5286),h=n(4963),v=n(3328),d=n(3531),y=n(8364),g=n(4193).set,E=n(4351)(),m=n(3499),R=n(188),b=n(575),I=n(94),_="Promise",O=p.TypeError,w=p.process,P=w&&w.versions,S=P&&P.v8||"",T=p[_],A="process"==c(w),N=i=m.f,P=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(6314)("species")]=function(e){e(r,r)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(r)instanceof t&&0!==S.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(e){}}(),k=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t},x=function(l,n){var r;l._n||(l._n=!0,r=l._c,E(function(){for(var i,c=l._v,f=1==l._s,e=0,t=function(e){var t,n,r,i,o=f?e.ok:e.fail,s=e.resolve,a=e.reject,u=e.domain;try{o?(f||(2==l._h&&(i=l,g.call(p,function(){var e;A?w.emit("rejectionHandled",i):(e=p.onrejectionhandled)&&e({promise:i,reason:i._v})})),l._h=1),!0===o?t=c:(u&&u.enter(),t=o(c),u&&(u.exit(),r=!0)),t===e.promise?a(O("Promise-chain cycle")):(n=k(t))?n.call(t,s,a):s(t)):a(c)}catch(e){u&&!r&&u.exit(),a(e)}};r.length>e;)t(r[e++]);l._c=[],l._n=!1,n&&!l._h&&(i=l,g.call(p,function(){var e,t,n=i._v,r=D(i);if(r&&(e=R(function(){A?w.emit("unhandledRejection",n,i):(t=p.onunhandledrejection)?t({promise:i,reason:n}):(t=p.console)&&t.error&&t.error("Unhandled promise rejection",n)}),i._h=A||D(i)?2:1),i._a=void 0,r&&e.e)throw e.v}))}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},C=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),x(t,!0))},F=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw O("Promise can't be resolved itself");(n=k(e))?E(function(){var t={_w:r,_d:!1};try{n.call(e,u(F,t,1),u(C,t,1))}catch(e){C.call(t,e)}}):(r._v=e,r._s=1,x(r,!1))}catch(e){C.call({_w:r,_d:!1},e)}}};P||(T=function(e){v(this,T,_,"_h"),h(e),t.call(this);try{e(u(F,this,1),u(C,this,1))}catch(e){C.call(this,e)}},(t=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(4408)(T.prototype,{then:function(e,t){var n=N(y(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&x(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new t;this.promise=e,this.resolve=u(F,e,1),this.reject=u(C,e,1)},m.f=N=function(e){return e===T||e===s?new o:i(e)}),f(f.G+f.W+f.F*!P,{Promise:T}),n(2943)(T,_),n(2974)(_),s=n(5645)[_],f(f.S+f.F*!P,_,{reject:function(e){var t=N(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(a||!P),_,{resolve:function(e){return I(a&&this===s?T:this,e)}}),f(f.S+f.F*!(P&&n(7462)(function(e){T.all(e).catch(r)})),_,{all:function(e){var s=this,t=N(s),a=t.resolve,u=t.reject,n=R(function(){var r=[],i=0,o=1;d(e,!1,function(e){var t=i++,n=!1;r.push(void 0),o++,s.resolve(e).then(function(e){n||(n=!0,r[t]=e,--o||a(r))},u)}),--o||a(r)});return n.e&&u(n.v),t.promise},race:function(e){var t=this,n=N(t),r=n.reject,i=R(function(){d(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},1572:(e,t,n)=>{var r=n(2985),i=n(4963),o=n(7007),s=(n(3816).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(4253)(function(){s(function(){})}),"Reflect",{apply:function(e,t,n){e=i(e),n=o(n);return s?s(e,t,n):a.call(e,t,n)}})},2139:(e,t,n)=>{var r=n(2985),i=n(2503),o=n(4963),s=n(7007),a=n(5286),u=n(4253),c=n(4398),f=(n(3816).Reflect||{}).construct,l=u(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),p=!u(function(){f(function(){})});r(r.S+r.F*(l||p),"Reflect",{construct:function(e,t){o(e),s(t);var n=arguments.length<3?e:o(arguments[2]);if(p&&!l)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}r=n.prototype,n=i(a(r)?r:Object.prototype),r=Function.apply.call(e,n,t);return a(r)?r:n}})},685:(e,t,n)=>{var r=n(9275),i=n(2985),o=n(7007),s=n(1689);i(i.S+i.F*n(4253)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=s(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},5535:(e,t,n)=>{var r=n(2985),i=n(8693).f,o=n(7007);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},7347:(e,t,n)=>{"use strict";function r(e){this._t=o(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)}var i=n(2985),o=n(7007);n(9988)(r,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),i(i.S,"Reflect",{enumerate:function(e){return new r(e)}})},6633:(e,t,n)=>{var r=n(8693),i=n(2985),o=n(7007);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},8989:(e,t,n)=>{var r=n(2985),i=n(468),o=n(7007);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},3049:(e,t,n)=>{var o=n(8693),s=n(468),a=n(9181),r=n(2985),u=n(5286),c=n(7007);r(r.S,"Reflect",{get:function e(t,n){var r,i=arguments.length<3?t:arguments[2];return c(t)===i?t[n]:(r=o.f(t,n))?a(r,"value")?r.value:void 0!==r.get?r.get.call(i):void 0:u(r=s(t))?e(r,n,i):void 0}})},8270:(e,t,n)=>{n=n(2985);n(n.S,"Reflect",{has:function(e,t){return t in e}})},4510:(e,t,n)=>{var r=n(2985),i=n(7007),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},3984:(e,t,n)=>{var r=n(2985);r(r.S,"Reflect",{ownKeys:n(7643)})},5769:(e,t,n)=>{var r=n(2985),i=n(7007),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},6014:(e,t,n)=>{var r=n(2985),i=n(7375);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},55:(e,t,n)=>{var a=n(9275),u=n(8693),c=n(468),f=n(9181),r=n(2985),l=n(681),p=n(7007),h=n(5286);r(r.S,"Reflect",{set:function e(t,n,r){var i,o=arguments.length<4?t:arguments[3],s=u.f(p(t),n);if(!s){if(h(i=c(t)))return e(i,n,r,o);s=l(0)}if(f(s,"value")){if(!1===s.writable||!h(o))return!1;if(i=u.f(o,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,a.f(o,n,i)}else a.f(o,n,l(0,r));return!0}return void 0!==s.set&&(s.set.call(o,r),!0)}})},3946:(e,t,n)=>{var r=n(3816),o=n(266),i=n(9275).f,s=n(616).f,a=n(5364),u=n(3218),c=v=r.RegExp,f=v.prototype,l=/a/g,p=/a/g,h=new v(l)!==l;if(n(7057)&&(!h||n(4253)(function(){return p[n(6314)("match")]=!1,v(l)!=l||v(p)==p||"/a/i"!=v(l,"i")}))){for(var v=function(e,t){var n=this instanceof v,r=a(e),i=void 0===t;return!n&&r&&e.constructor===v&&i?e:o(h?new c(r&&!i?e.source:e,t):c((r=e instanceof v)?e.source:e,r&&i?u.call(e):t),n?this:f,v)},d=s(c),y=0;d.length>y;)!function(t){t in v||i(v,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}(d[y++]);(f.constructor=v).prototype=f,n(7234)(r,"RegExp",v)}n(2974)("RegExp")},8269:(e,t,n)=>{"use strict";var r=n(1165);n(2985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},6774:(e,t,n)=>{n(7057)&&"g"!=/./g.flags&&n(9275).f(RegExp.prototype,"flags",{configurable:!0,get:n(3218)})},1466:(e,t,n)=>{"use strict";var f=n(7007),l=n(875),p=n(6793),h=n(7787);n(8082)("match",1,function(r,i,u,c){return[function(e){var t=r(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=c(u,e,this);if(t.done)return t.value;var n=f(e),r=String(this);if(!n.global)return h(n,r);for(var i=n.unicode,o=[],s=n.lastIndex=0;null!==(a=h(n,r));){var a=String(a[0]);""===(o[s]=a)&&(n.lastIndex=p(r,l(n.lastIndex),i)),s++}return 0===s?null:o}]})},9357:(e,t,n)=>{"use strict";var I=n(7007),_=n(508),O=n(875),w=n(1467),P=n(6793),S=n(7787),T=Math.max,A=Math.min,N=Math.floor,k=/\$([$&`']|\d\d?|<[^>]*>)/g,x=/\$([$&`']|\d\d?)/g;n(8082)("replace",2,function(i,o,R,b){return[function(e,t){var n=i(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,n,t):R.call(String(n),e,t)},function(e,t){var n=b(R,e,this,t);if(n.done)return n.value;for(var r,i=I(e),o=String(this),s="function"==typeof t,a=(s||(t=String(t)),i.global),u=(a&&(r=i.unicode,i.lastIndex=0),[]);null!==(h=S(i,o))&&(u.push(h),a);)""===String(h[0])&&(i.lastIndex=P(o,O(i.lastIndex),r));for(var c,f="",l=0,p=0;p<u.length;p++){for(var h=u[p],v=String(h[0]),d=T(A(w(h.index),o.length),0),y=[],g=1;g<h.length;g++)y.push(void 0===(c=h[g])?c:String(c));var E=h.groups,m=s?(m=[v].concat(y,d,o),void 0!==E&&m.push(E),String(t.apply(void 0,m))):function(o,s,a,u,c,e){var f=a+o.length,l=u.length,t=x;void 0!==c&&(c=_(c),t=k);return R.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(f);case"<":n=c[t.slice(1,-1)];break;default:var r,i=+t;if(0==i)return e;if(l<i)return 0!==(r=N(i/10))&&r<=l?void 0===u[r-1]?t.charAt(1):u[r-1]+t.charAt(1):e;n=u[i-1]}return void 0===n?"":n})}(v,o,d,y,E,t);l<=d&&(f+=o.slice(l,d)+m,l=d+v.length)}return f+o.slice(l)}]})},6142:(e,t,n)=>{"use strict";var a=n(7007),u=n(7195),c=n(7787);n(8082)("search",1,function(r,i,o,s){return[function(e){var t=r(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=s(o,e,this);if(t.done)return t.value;var t=a(e),e=String(this),n=t.lastIndex,e=(u(n,0)||(t.lastIndex=0),c(t,e));return u(t.lastIndex,n)||(t.lastIndex=n),null===e?-1:e.index}]})},1876:(e,t,n)=>{"use strict";var l=n(5364),g=n(7007),E=n(8364),m=n(6793),R=n(875),b=n(7787),p=n(1165),r=n(4253),I=Math.min,h=[].push,s="split",_="length",O="lastIndex",w=4294967295,P=!r(function(){RegExp(w,"y")});n(8082)("split",2,function(i,o,v,d){var y="c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[_]||2!="ab"[s](/(?:ab)*/)[_]||4!="."[s](/(.?)(.?)/)[_]||1<"."[s](/()()/)[_]||""[s](/.?/)[_]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!l(e))return v.call(n,e,t);for(var r,i,o,s=[],a=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=void 0===t?w:t>>>0,f=new RegExp(e.source,a+"g");(r=p.call(f,n))&&!(u<(i=f[O])&&(s.push(n.slice(u,r.index)),1<r[_]&&r.index<n[_]&&h.apply(s,r.slice(1)),o=r[0][_],u=i,s[_]>=c));)f[O]===r.index&&f[O]++;return u===n[_]?!o&&f.test("")||s.push(""):s.push(n.slice(u)),s[_]>c?s.slice(0,c):s}:"0"[s](void 0,0)[_]?function(e,t){return void 0===e&&0===t?[]:v.call(this,e,t)}:v;return[function(e,t){var n=i(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,n,t):y.call(String(n),e,t)},function(e,t){var n=d(y,e,this,t,y!==v);if(n.done)return n.value;var n=g(e),r=String(this),e=E(n,RegExp),i=n.unicode,o=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(P?"y":"g"),s=new e(P?n:"^(?:"+n.source+")",o),a=void 0===t?w:t>>>0;if(0==a)return[];if(0===r.length)return null===b(s,r)?[r]:[];for(var u=0,c=0,f=[];c<r.length;){s.lastIndex=P?c:0;var l,p=b(s,P?r:r.slice(c));if(null===p||(l=I(R(s.lastIndex+(P?0:c)),r.length))===u)c=m(r,c,i);else{if(f.push(r.slice(u,c)),f.length===a)return f;for(var h=1;h<=p.length-1;h++)if(f.push(p[h]),f.length===a)return f;c=u=l}}return f.push(r.slice(u)),f}]})},6108:(e,t,n)=>{"use strict";n(6774);function r(e){n(7234)(RegExp.prototype,a,e,!0)}var i=n(7007),o=n(3218),s=n(7057),a="toString",u=/./[a];n(4253)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?r(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!s&&e instanceof RegExp?o.call(e):void 0)}):u.name!=a&&r(function(){return u.call(this)})},8184:(e,t,n)=>{"use strict";var r=n(9824),i=n(1616);e.exports=n(5795)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},856:(e,t,n)=>{"use strict";n(9395)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},703:(e,t,n)=>{"use strict";n(9395)("big",function(e){return function(){return e(this,"big","","")}})},1539:(e,t,n)=>{"use strict";n(9395)("blink",function(e){return function(){return e(this,"blink","","")}})},5292:(e,t,n)=>{"use strict";n(9395)("bold",function(e){return function(){return e(this,"b","","")}})},9539:(e,t,n)=>{"use strict";var r=n(2985),i=n(4496)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},6620:(e,t,n)=>{"use strict";var r=n(2985),i=n(875),o=n(2094),s="endsWith",a=""[s];r(r.P+r.F*n(8852)(s),"String",{endsWith:function(e){var t=o(this,e,s),n=1<arguments.length?arguments[1]:void 0,r=i(t.length),n=void 0===n?r:Math.min(i(n),r),r=String(e);return a?a.call(t,r,n):t.slice(n-r.length,n)===r}})},6629:(e,t,n)=>{"use strict";n(9395)("fixed",function(e){return function(){return e(this,"tt","","")}})},3694:(e,t,n)=>{"use strict";n(9395)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},7648:(e,t,n)=>{"use strict";n(9395)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},191:(e,t,n)=>{var r=n(2985),o=n(2337),s=String.fromCharCode,n=String.fromCodePoint;r(r.S+r.F*(!!n&&1!=n.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;i<r;){if(t=+arguments[i++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},2850:(e,t,n)=>{"use strict";var r=n(2985),i=n(2094),o="includes";r(r.P+r.F*n(8852)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},7795:(e,t,n)=>{"use strict";n(9395)("italics",function(e){return function(){return e(this,"i","","")}})},9115:(e,t,n)=>{"use strict";var r=n(4496)(!0);n(2923)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(e=r(e,t),this._i+=e.length,{value:e,done:!1})})},4531:(e,t,n)=>{"use strict";n(9395)("link",function(t){return function(e){return t(this,"a","href",e)}})},8306:(e,t,n)=>{var r=n(2985),s=n(2110),a=n(875);r(r.S,"String",{raw:function(e){for(var t=s(e.raw),n=a(t.length),r=arguments.length,i=[],o=0;o<n;)i.push(String(t[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}})},823:(e,t,n)=>{var r=n(2985);r(r.P,"String",{repeat:n(8595)})},3605:(e,t,n)=>{"use strict";n(9395)("small",function(e){return function(){return e(this,"small","","")}})},7732:(e,t,n)=>{"use strict";var r=n(2985),i=n(875),o=n(2094),s="startsWith",a=""[s];r(r.P+r.F*n(8852)(s),"String",{startsWith:function(e){var t=o(this,e,s),n=i(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),e=String(e);return a?a.call(t,e,n):t.slice(n,n+e.length)===e}})},6780:(e,t,n)=>{"use strict";n(9395)("strike",function(e){return function(){return e(this,"strike","","")}})},9937:(e,t,n)=>{"use strict";n(9395)("sub",function(e){return function(){return e(this,"sub","","")}})},511:(e,t,n)=>{"use strict";n(9395)("sup",function(e){return function(){return e(this,"sup","","")}})},4564:(e,t,n)=>{"use strict";n(9599)("trim",function(e){return function(){return e(this,3)}})},5767:(L,B,e)=>{"use strict";function r(e){var t=T[e]=m(I[w]);return t._k=e,t}function n(e,t){d(e);for(var n,r=q(t=y(t)),i=0,o=r.length;i<o;)F(e,n=r[i++],t[n]);return e}function t(e){var t=ee.call(this,e=g(e,!0));return!(this===N&&u(T,e)&&!u(A,e))&&(!(t||!u(this,e)||!u(T,e)||u(this,P)&&this[P][e])||t)}function i(e,t){var n;if(e=y(e),t=g(t,!0),e!==N||!u(T,t)||u(A,t))return!(n=z(e,t))||!u(T,t)||u(e,P)&&e[P][t]||(n.enumerable=!0),n}function o(e){for(var t,n=Z(y(e)),r=[],i=0;n.length>i;)u(T,t=n[i++])||t==P||t==U||r.push(t);return r}function s(e){for(var t,n=e===N,r=Z(n?A:y(e)),i=[],o=0;r.length>o;)!u(T,t=r[o++])||n&&!u(N,t)||i.push(T[t]);return i}var a=e(3816),u=e(9181),c=e(7057),f=e(2985),M=e(7234),U=e(4728).KEY,l=e(4253),p=e(3825),h=e(2943),j=e(3953),v=e(6314),V=e(8787),G=e(6074),q=e(5541),Y=e(4302),d=e(7007),K=e(5286),W=e(508),y=e(2110),g=e(1689),E=e(681),m=e(2503),J=e(9327),H=e(8693),R=e(4548),X=e(9275),Q=e(7184),z=H.f,b=X.f,Z=J.f,I=a.Symbol,_=a.JSON,O=_&&_.stringify,w="prototype",P=v("_hidden"),$=v("toPrimitive"),ee={}.propertyIsEnumerable,S=p("symbol-registry"),T=p("symbols"),A=p("op-symbols"),N=Object[w],p="function"==typeof I&&!!R.f,k=a.QObject,x=!k||!k[w]||!k[w].findChild,D=c&&l(function(){return 7!=m(b({},"a",{get:function(){return b(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=z(N,t);r&&delete N[t],b(e,t,n),r&&e!==N&&b(N,t,r)}:b,C=p&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},F=function(e,t,n){return e===N&&F(A,t,n),d(e),t=g(t,!0),d(n),u(T,t)?(n.enumerable?(u(e,P)&&e[P][t]&&(e[P][t]=!1),n=m(n,{enumerable:E(0,!1)})):(u(e,P)||b(e,P,E(1,{})),e[P][t]=!0),D(e,t,n)):b(e,t,n)};p||(M((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=j(0<arguments.length?arguments[0]:void 0),n=function(e){this===N&&n.call(A,e),u(this,P)&&u(this[P],t)&&(this[P][t]=!1),D(this,t,E(1,e))};return c&&x&&D(N,t,{configurable:!0,set:n}),r(t)})[w],"toString",function(){return this._k}),H.f=i,X.f=F,e(616).f=J.f=o,e(4682).f=t,R.f=s,c&&!e(4461)&&M(N,"propertyIsEnumerable",t,!0),V.f=function(e){return r(v(e))}),f(f.G+f.W+f.F*!p,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)v(te[ne++]);for(var re=Q(v.store),ie=0;re.length>ie;)G(re[ie++]);f(f.S+f.F*!p,"Symbol",{for:function(e){return u(S,e+="")?S[e]:S[e]=I(e)},keyFor:function(e){if(!C(e))throw TypeError(e+" is not a symbol!");for(var t in S)if(S[t]===e)return t},useSetter:function(){x=!0},useSimple:function(){x=!1}}),f(f.S+f.F*!p,"Object",{create:function(e,t){return void 0===t?m(e):n(m(e),t)},defineProperty:F,defineProperties:n,getOwnPropertyDescriptor:i,getOwnPropertyNames:o,getOwnPropertySymbols:s});k=l(function(){R.f(1)});f(f.S+f.F*k,"Object",{getOwnPropertySymbols:function(e){return R.f(W(e))}}),_&&f(f.S+f.F*(!p||l(function(){var e=I();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;i<arguments.length;)r.push(arguments[i++]);if(n=t=r[1],(K(t)||void 0!==e)&&!C(e))return Y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!C(t))return t}),r[1]=t,O.apply(_,r)}}),I[w][$]||e(7728)(I[w],$,I[w].valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(a.JSON,"JSON",!0)},142:(e,t,n)=>{"use strict";var r=n(2985),i=n(9383),o=n(1125),u=n(7007),c=n(2337),f=n(875),s=n(5286),a=n(3816).ArrayBuffer,l=n(8364),p=o.ArrayBuffer,h=o.DataView,v=i.ABV&&a.isView,d=p.prototype.slice,y=i.VIEW,o="ArrayBuffer";r(r.G+r.W+r.F*(a!==p),{ArrayBuffer:p}),r(r.S+r.F*!i.CONSTR,o,{isView:function(e){return v&&v(e)||s(e)&&y in e}}),r(r.P+r.U+r.F*n(4253)(function(){return!new p(2).slice(1,void 0).byteLength}),o,{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(u(this),e);for(var n=u(this).byteLength,r=c(e,n),i=c(void 0===t?n:t,n),e=new(l(this,p))(f(i-r)),o=new h(this),s=new h(e),a=0;r<i;)s.setUint8(a++,o.getUint8(r++));return e}}),n(2974)(o)},1786:(e,t,n)=>{var r=n(2985);r(r.G+r.W+r.F*!n(9383).ABV,{DataView:n(1125).DataView})},162:(e,t,n)=>{n(8440)("Float32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},3834:(e,t,n)=>{n(8440)("Float64",8,function(r){return function(e,t,n){return r(this,e,t,n)}})},4821:(e,t,n)=>{n(8440)("Int16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},1303:(e,t,n)=>{n(8440)("Int32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},5368:(e,t,n)=>{n(8440)("Int8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},9103:(e,t,n)=>{n(8440)("Uint16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},3318:(e,t,n)=>{n(8440)("Uint32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},6964:(e,t,n)=>{n(8440)("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},2152:(e,t,n)=>{n(8440)("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}},!0)},147:(e,t,n)=>{"use strict";function r(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}var o,i=n(3816),s=n(50)(0),a=n(7234),u=n(4728),c=n(5345),f=n(3657),l=n(5286),p=n(1616),h=n(1616),i=!i.ActiveXObject&&"ActiveXObject"in i,v="WeakMap",d=u.getWeak,y=Object.isExtensible,g=f.ufstore,E={get:function(e){var t;if(l(e))return!0===(t=d(e))?g(p(this,v)).get(e):t?t[this._i]:void 0},set:function(e,t){return f.def(p(this,v),e,t)}},m=e.exports=n(5795)(v,r,E,f,!0,!0);h&&i&&(c((o=f.getConstructor(r,v)).prototype,E),u.NEED=!0,s(["delete","has","get","set"],function(r){var e=m.prototype,i=e[r];a(e,r,function(e,t){var n;return l(e)&&!y(e)?(this._f||(this._f=new o),n=this._f[r](e,t),"set"==r?this:n):i.call(this,e,t)})}))},9192:(e,t,n)=>{"use strict";var r=n(3657),i=n(1616),o="WeakSet";n(5795)(o,function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},1268:(e,t,n)=>{"use strict";var r=n(2985),i=n(3325),o=n(508),s=n(875),a=n(4963),u=n(6886);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return a(e),t=s(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(7722)("flatMap")},2773:(e,t,n)=>{"use strict";var r=n(2985),i=n(9315)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(7722)("includes")},3276:(e,t,n)=>{var r=n(2985),i=n(1131)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},8351:(e,t,n)=>{var r=n(2985),u=n(7643),c=n(2110),f=n(8693),l=n(2811);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=c(e),i=f.f,o=u(r),s={},a=0;o.length>a;)void 0!==(n=i(r,t=o[a++]))&&l(s,t,n);return s}})},6409:(e,t,n)=>{var r=n(2985),i=n(1131)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},9865:(e,t,n)=>{"use strict";var r=n(2985),i=n(5645),o=n(3816),s=n(8364),a=n(94);r(r.P+r.R,"Promise",{finally:function(t){var n=s(this,i.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return a(n,t()).then(function(){return e})}:t,e?function(e){return a(n,t()).then(function(){throw e})}:t)}})},2770:(e,t,n)=>{"use strict";var r=n(2985),i=n(5442),n=n(575),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);r(r.P+r.F*n,"String",{padEnd:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},1784:(e,t,n)=>{"use strict";var r=n(2985),i=n(5442),n=n(575),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);r(r.P+r.F*n,"String",{padStart:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},5869:(e,t,n)=>{"use strict";n(9599)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},4325:(e,t,n)=>{"use strict";n(9599)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},9665:(e,t,n)=>{n(6074)("asyncIterator")},1181:(e,t,n)=>{for(var r=n(6997),i=n(7184),o=n(7234),s=n(3816),a=n(7728),u=n(2803),n=n(6314),c=n("iterator"),f=n("toStringTag"),l=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),v=0;v<h.length;v++){var d,y=h[v],g=p[y],E=s[y],m=E&&E.prototype;if(m&&(m[c]||a(m,c,l),m[f]||a(m,f,y),u[y]=l,g))for(d in r)m[d]||o(m,d,r[d],!0)}},4633:(e,t,n)=>{var r=n(2985),n=n(4193);r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},2564:(e,t,n)=>{function r(i){return function(e,t){var n=2<arguments.length,r=n&&s.call(arguments,2);return i(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,t)}}var i=n(3816),o=n(2985),n=n(575),s=[].slice,n=/MSIE .\./.test(n);o(o.G+o.B+o.F*n,{setTimeout:r(i.setTimeout),setInterval:r(i.setInterval)})},6337:(e,t,n)=>{n(2564),n(4633),n(1181),e.exports=n(5645)},5666:t=>{t=function(s){"use strict";var u,e=Object.prototype,c=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function a(e,t,n,r){var i,o,s,a,t=t&&t.prototype instanceof y?t:y,t=Object.create(t.prototype),r=new w(r||[]);return t._invoke=(i=e,o=n,s=r,a=l,function(e,t){if(a===h)throw new Error("Generator is already running");if(a===v){if("throw"===e)throw t;return S()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){n=function e(t,n){var r=t.iterator[n.method];if(r===u){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=u,e(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}r=f(r,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d;{if(!r.done)return r;n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u)}n.delegate=null;return d}(n,s);if(n){if(n===d)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(a===l)throw a=v,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a=h;n=f(i,o,s);if("normal"===n.type){if(a=s.done?v:p,n.arg!==d)return{value:n.arg,done:s.done}}else"throw"===n.type&&(a=v,s.method="throw",s.arg=n.arg)}}),t}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}s.wrap=a;var l="suspendedStart",p="suspendedYield",h="executing",v="completed",d={};function y(){}function g(){}function E(){}var t={},m=(o(t,r,function(){return this}),Object.getPrototypeOf),m=m&&m(m(P([]))),R=(m&&m!==e&&c.call(m,r)&&(t=m),E.prototype=y.prototype=Object.create(t));function b(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function I(s,a){var t;this._invoke=function(n,r){function e(){return new a(function(e,t){!function t(e,n,r,i){var o,e=f(s[e],s,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==typeof n&&c.call(n,"__await")?a.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):a.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e}).next=e}return{next:S}}function S(){return{value:u,done:!0}}return o(R,"constructor",g.prototype=E),o(E,"constructor",g),g.displayName=o(E,i,"GeneratorFunction"),s.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,o(e,i,"GeneratorFunction")),e.prototype=Object.create(R),e},s.awrap=function(e){return{__await:e}},b(I.prototype),o(I.prototype,n,function(){return this}),s.AsyncIterator=I,s.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new I(a(e,t,n,r),i);return s.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(R),o(R,i,"Generator"),o(R,r,function(){return this}),o(R,"toString",function(){return"[object Generator]"}),s.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=P,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=c.call(i,"catchLoc"),a=c.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,O(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),d}},s}(t.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},3709:e=>{"use strict";e.exports=JSON.parse('{"name":"indigitall-webpush","description":"indigitall webpush SDK","version":"3.11.6","main":"index.js","author":"Smart2me S.L.","homepage":"https://indigitall.com"}')}},r={};function mn(e){var t=r[e];if(void 0!==t)return t.exports;t=r[e]={exports:{}};return n[e](t,t.exports,mn),t.exports}mn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();(()=>{"use strict";function e(){return mn.g._babelPolyfill||"undefined"!=typeof window&&window._babelPolyfill?null:mn(6981)}e()})(),(()=>{"use strict";var e={platform:"webpush",version:"0.0.1"},t=mn(3709);e.version=t.version;const T=e=Object.assign(e,{client:{URL_BASE:"https://".concat("","device-api.indigitall.com/v1"),INAPP_URL_BASE:"https://".concat("","inapp-api.indigitall.com/v1"),INBOX_URL_BASE:"https://".concat("","inbox-api.indigitall.com/v1"),CUSTOMER_URL_BASE:"https://".concat("","device-api.indigitall.com/v2")}});function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.storage=this.isLocalStorageAvailable()?window.localStorage:null}var t,n,r;return t=e,(n=[{key:"isLocalStorageAvailable",value:function(){try{var e=window.localStorage,t="__storage_test__";if(e)return e.setItem(t,t),e.removeItem(t),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==a.length}return!1}},{key:"setItem",value:function(e,t){return null!=this.storage&&(this.storage.setItem(e,t),!0)}},{key:"getItem",value:function(e){return null!=this.storage?this.storage.getItem(e):null}},{key:"deleteItem",value:function(e){return!!this.storage&&(this.storage.setItem(e,value),!0)}},{key:"clear",value:function(){this.storage&&this.storage.clear()}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());const A=a;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}new(n(function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}));function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}new(q(function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}));function Y(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function K(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){Y(r,t,n,i,o,"next",e)}function o(e){Y(r,t,n,i,o,"throw",e)}i(void 0)})}}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const N=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.TAG="[IND]IndexedDB: ",this.DB_NAME="indigitall.indexedDB",this.DB_VERSION=1,this.DB_STORE_NAME="indigitallStore",this.DB_STORE_MODE="readwrite",this.DB_KEY_PATH="id",this.DB_STORE_INDEX="storeIndex",this.IDB=indexedDB||mozzIndexedDB||webkitIndexedDB||msIndexedDB}var t,n,r,i,o,s,a,u;return t=e,(n=[{key:"getDB",value:(u=K(regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(i,t){var o,e=n.IDB;e?((o=e.open("indigitall.indexedDB",1)).onupgradeneeded=function(){o.result.createObjectStore("indigitallStore").createIndex("storeIndex","store.key")},o.onsuccess=function(){var e=o.result,t=e.transaction("indigitallStore","readwrite"),n=t.objectStore("indigitallStore"),r=n.index("storeIndex");i({db:e,tx:t,store:n,index:r})},o.onerror=function(e){t(e)}):t(!1)}));case 1:case"end":return e.stop()}},e)})),function(){return u.apply(this,arguments)})},{key:"get",value:(a=K(regeneratorRuntime.mark(function e(r,i){var o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t,n){r||n(!1),r.index.get(i).onsuccess=function(e){e.target.result&&(o.close(r),t(e.target.result.store.value)),n(!1)}}));case 1:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)})},{key:"put",value:(s=K(regeneratorRuntime.mark(function e(n,r,i){var o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t,e){n||e(!1),n.store.put({store:{key:r,value:i}},r).onsuccess=function(e){o.close(n),t(i)}}));case 1:case"end":return e.stop()}},e)})),function(e,t,n){return s.apply(this,arguments)})},{key:"close",value:function(e){if(e.tx)try{e.tx.oncomplete=function(){e.db.close()}}catch(e){console.error(this.TAG,e)}}},{key:"setItem",value:(o=K(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDB();case 3:return r=e.sent,e.abrupt("return",this.put(r,t,n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])})),function(e,t){return o.apply(this,arguments)})},{key:"getItem",value:(i=K(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDB();case 3:return n=e.sent,e.abrupt("return",this.get(n,t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])})),function(e){return i.apply(this,arguments)})}])&&W(t.prototype,n),r&&W(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function J(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function k(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){J(r,t,n,i,o,"next",e)}function o(e){J(r,t,n,i,o,"throw",e)}i(void 0)})}}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const m=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.BASE_TIME=60,this.REPOSITORY="indigitall.repository",this.APP_KEY=this.REPOSITORY+".APP_KEY",this.VAPID_PUBLIC=this.REPOSITORY+".VAPID_PUBLIC",this.SAFARI_WEBSITE_PUSH_ID=this.REPOSITORY+".SAFARI_WEBSITE_PUSH_ID",this.ENABLED=this.REPOSITORY+".ENABLED",this.SERVICE_SYNC_TIME=this.REPOSITORY+".SERVICE_SYNC_TIME",this.LOCATION_ENABLED=this.REPOSITORY+".LOCATION_ENABLED",this.LOCATION_UPDATE_MINUTES=this.REPOSITORY+".LOCATION_UPDATE_MINUTES",this.REQUEST_LOCATION=this.REPOSITORY+".REQUEST_LOCATION",this.DEVICE_ID=this.REPOSITORY+".DEVICE_ID",this.PUSH_TOKEN=this.REPOSITORY+".PUSH_TOKEN",this.BROWSER_PUBLIC_KEY=this.REPOSITORY+".BROWSER_PUBLIC_KEY",this.BROWSER_PRIVATE_KEY=this.REPOSITORY+".BROWSER_PRIVATE_KEY",this.PLATFORM=this.REPOSITORY+".PLATFORM",this.BROWSER_NAME=this.REPOSITORY+".BROWSER_NAME",this.BROWSER_VERSION=this.REPOSITORY+".BROWSER_VERSION",this.OS_NAME=this.REPOSITORY+".OS_NAME",this.OS_VERSION=this.REPOSITORY+".OS_VERSION",this.DEVICE_TYPE=this.REPOSITORY+".DEVICE_TYPE",this.SUPPORTED=this.REPOSITORY+".SUPPORTED",this.SERVICE_TIMESTAMP=this.REPOSITORY+".SERVICE_TIMESTAMP",this.LOCATION_TIMESTAMP=this.REPOSITORY+".LOCATION_TIMESTAMP",this.PERMISSION_PUSH=this.REPOSITORY+".PERMISSION_PUSH",this.PERMISSION_LOCATION=this.REPOSITORY+".PERMISSION_LOCATION",this.SET_LOG_DEBUG=this.REPOSITORY+".SET_LOG_DEBUG",this.NEW_USER_TIMESTAMP=this.REPOSITORY+".NEW_USER_TIMESTAMP",this.EXTERNAL_ID=this.REPOSITORY+".EXTERNAL_ID",this.AUTH_TOKEN=this.REPOSITORY+".AUTH_TOKEN",this.JSON_INBOX_AUTH=this.REPOSITORY+".JSON_INBOX_AUTH",this.PAGE_INBOX=this.REPOSITORY+".PAGE_INBOX",this.PAGESIZE_INBOX=this.REPOSITORY+".PAGESIZE_INBOX",this.TOTALPAGES_INBOX=this.REPOSITORY+".TOTALPAGES_INBOX",this.INBOX_DATE_FROM=this.REPOSITORY+".INBOX_DATE_FROM",this.INBOX_DATE_TO=this.REPOSITORY+".INBOX_DATE_TO",this.INBOX_STATUS_LIST=this.REPOSITORY+".INBOX_STATUS_LIST",this.INBOX_AUTH_MODE=this.REPOSITORY+".INBOX_AUTH_MODE",this.INAPP_ENABLED=this.REPOSITORY+".INAPP_ENABLED",this.URL_DEVICE_API=this.REPOSITORY+".URL_DEVICE_API",this.URL_INAPP_API=this.REPOSITORY+".URL_INAPP_API",this.URL_INBOX_API=this.REPOSITORY+".URL_INBOX_API",this.INAPP_SHOW_ONCE=this.REPOSITORY+".INAPP_SHOW_ONCE",this.EXTERNAL_ID_REQUEST=this.REPOSITORY+".EXTERNAL_ID_REQUEST",this.INAPP_TIMES_CLICKED=this.REPOSITORY+".INAPP_TIMES_CLICKED",this.INAPP_DISMISS_FOREVER=this.REPOSITORY+".INAPP_DISMISS_FOREVER",this.DEVICE_JSON=this.REPOSITORY+".DEVICE_JSON",this.REGISTERED_BY_COOKIE=this.REPOSITORY+".REGISTERED_BY_COOKIE",this.LOG_LEVEL=this.REPOSITORY+".LOG_LEVEL"}var t,n,r,i,o,s,a,u,c,f,l,p,h,v,d,y,g,E,m,R,b,I,_,O,w,P,S;return t=e,(n=[{key:"clearStorage",value:function(){A.clear()}},{key:"setDeviceId",value:(S=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.DEVICE_ID,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"getDeviceId",value:function(){return A.getItem(this.DEVICE_ID)}},{key:"setPushToken",value:function(e){A.setItem(this.PUSH_TOKEN,e)}},{key:"getPushToken",value:function(){return A.getItem(this.PUSH_TOKEN)}},{key:"setBrowserPublicKey",value:function(e){A.setItem(this.BROWSER_PUBLIC_KEY,e)}},{key:"getBrowserPublicKey",value:function(){return A.getItem(this.BROWSER_PUBLIC_KEY)}},{key:"setBrowserPrivateKey",value:function(e){A.setItem(this.BROWSER_PRIVATE_KEY,e)}},{key:"getBrowserPrivateKey",value:function(){return A.getItem(this.BROWSER_PRIVATE_KEY)}},{key:"setAppKey",value:(P=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.APP_KEY,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"getAppKey",value:function(){return A.getItem(this.APP_KEY)}},{key:"setVAPID",value:function(e){A.setItem(this.VAPID_PUBLIC,e)}},{key:"getVAPID",value:function(){return A.getItem(this.VAPID_PUBLIC)}},{key:"setSafariWebsitePushId",value:function(e){A.setItem(this.SAFARI_WEBSITE_PUSH_ID,e)}},{key:"getSafariWebsitePushId",value:function(){return A.getItem(this.SAFARI_WEBSITE_PUSH_ID)}},{key:"setEnabled",value:function(e){A.setItem(this.ENABLED,e)}},{key:"getEnabled",value:function(){return A.getItem(this.ENABLED)}},{key:"setServiceSyncTime",value:function(e){A.setItem(this.SERVICE_SYNC_TIME,e*this.BASE_TIME)}},{key:"getServiceSyncTime",value:function(){var e=A.getItem(this.SERVICE_SYNC_TIME);return e||+this.BASE_TIME}},{key:"setLocationEnabled",value:function(e){A.setItem(this.LOCATION_ENABLED,e)}},{key:"getLocationEnabled",value:function(){return A.getItem(this.LOCATION_ENABLED)}},{key:"setLocationUpdateMinutes",value:function(e){A.setItem(this.LOCATION_UPDATE_MINUTES,e)}},{key:"getLocationUpdateMinutes",value:function(){var e=A.getItem(this.LOCATION_UPDATE_MINUTES);return e||30}},{key:"setRequestLocation",value:(w=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.REQUEST_LOCATION,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"getRequestLocation",value:function(){return!!A&&A.getItem(this.REQUEST_LOCATION)}},{key:"setPlatform",value:(O=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.PLATFORM,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"getPlatform",value:function(){return A&&A.getItem(this.PLATFORM)||T.platform}},{key:"getVersion",value:function(){return T.version}},{key:"setBrowserName",value:(_=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.BROWSER_NAME,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"getBrowserName",value:function(){return A.getItem(this.BROWSER_NAME)}},{key:"setBrowserVersion",value:function(e){A.setItem(this.BROWSER_VERSION,e)}},{key:"getBrowserVersion",value:function(){return A.getItem(this.BROWSER_VERSION)}},{key:"setOsName",value:(I=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.OS_NAME,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return I.apply(this,arguments)})},{key:"getOsName",value:function(){return A.getItem(this.OS_NAME)}},{key:"setOsVersion",value:function(e){A.setItem(this.OS_VERSION,e)}},{key:"getOsVersion",value:function(){return A.getItem(this.OS_VERSION)}},{key:"setDeviceType",value:function(e){A.setItem(this.DEVICE_TYPE,e)}},{key:"getDeviceType",value:function(){return A.getItem(this.DEVICE_TYPE)}},{key:"setSupported",value:function(e){A.setItem(this.SUPPORTED,e)}},{key:"getSupported",value:function(){return A.getItem(this.SUPPORTED)}},{key:"setServiceTimestamp",value:function(e){A.setItem(this.SERVICE_TIMESTAMP,e)}},{key:"getServiceTimestamp",value:function(){return A.getItem(this.SERVICE_TIMESTAMP)}},{key:"setLocationTimestamp",value:function(e){A.setItem(this.LOCATION_TIMESTAMP,e)}},{key:"getLocationTimestamp",value:function(){return A.getItem(this.LOCATION_TIMESTAMP)}},{key:"setPermissionPush",value:function(e){A.setItem(this.PERMISSION_PUSH,e)}},{key:"getPermissionPush",value:function(){return A.getItem(this.PERMISSION_PUSH)}},{key:"setPermissionLocation",value:function(e){A.setItem(this.PERMISSION_LOCATION,e)}},{key:"getPermissionLocation",value:function(){return A.getItem(this.PERMISSION_LOCATION)}},{key:"setDebugLog",value:function(e){A.setItem(this.SET_LOG_DEBUG,e)}},{key:"getDebugLog",value:function(){return"false"!==A.getItem(this.SET_LOG_DEBUG)}},{key:"setLogLevel",value:function(e){A.setItem(this.LOG_LEVEL,e)}},{key:"getLogLevel",value:function(){return A.getItem(this.LOG_LEVEL)}},{key:"setNewUserTimestamp",value:function(e){A.setItem(this.NEW_USER_TIMESTAMP,e)}},{key:"getNewUserTimestamp",value:function(){return A.getItem(this.NEW_USER_TIMESTAMP)}},{key:"setExternalIdRequest",value:(b=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A&&A.isLocalStorageAvailable()&&A.setItem(this.EXTERNAL_ID,t),N&&N.IDB)return e.next=4,N.setItem(this.EXTERNAL_ID,t);e.next=4;break;case 4:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"getExternalIdRequest",value:(R=k(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!A||!A.isLocalStorageAvailable()){e.next=5;break}t=A.getItem(this.EXTERNAL_ID),e.next=9;break;case 5:if(N&&N.IDB)return e.next=8,N.getItem(this.EXTERNAL_ID);e.next=9;break;case 8:t=e.sent;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}},e,this,[[0,11]])})),function(){return R.apply(this,arguments)})},{key:"setExternalId",value:function(e){A.setItem(this.EXTERNAL_ID,e)}},{key:"getExternalId",value:function(){return A.getItem(this.EXTERNAL_ID)}},{key:"setAuthToken",value:function(e){A.setItem(this.AUTH_TOKEN,e)}},{key:"getAuthToken",value:function(){return A.getItem(this.AUTH_TOKEN)}},{key:"setInboxAuthMode",value:function(e){A.setItem(this.INBOX_AUTH_MODE,e)}},{key:"getInboxAuthMode",value:function(){return A.getItem(this.INBOX_AUTH_MODE)}},{key:"setInAppEnabled",value:function(e){A.setItem(this.INAPP_ENABLED,e)}},{key:"getInAppEnabled",value:function(){return A.getItem(this.INAPP_ENABLED)}},{key:"getUrlDeviceApi",value:(m=k(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!A||!A.isLocalStorageAvailable()){e.next=5;break}t=A.getItem(this.URL_DEVICE_API),e.next=9;break;case 5:if(N&&N.IDB)return e.next=8,N.getItem(this.URL_DEVICE_API);e.next=9;break;case 8:t=e.sent;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}},e,this,[[0,11]])})),function(){return m.apply(this,arguments)})},{key:"setUrlDeviceApi",value:(E=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A&&A.isLocalStorageAvailable()&&A.setItem(this.URL_DEVICE_API,t),N&&N.IDB)return e.next=4,N.setItem(this.URL_DEVICE_API,t);e.next=4;break;case 4:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"getUrlInappApi",value:(g=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.getItem(this.URL_INAPP_API));case 1:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"setUrlInappApi",value:(y=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.URL_INAPP_API,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"getUrlInboxApi",value:(d=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.getItem(this.URL_INBOX_API));case 1:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"setUrlInboxApi",value:(v=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.URL_INBOX_API,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"getInAppShowOnce",value:(h=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.getItem(this.INAPP_SHOW_ONCE));case 1:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"setInAppShowOnce",value:(p=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.INAPP_SHOW_ONCE,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"getInAppTimesClicked",value:(l=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.getItem(this.INAPP_TIMES_CLICKED));case 1:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"setInAppTimesClicked",value:(f=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.INAPP_TIMES_CLICKED,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"getInAppDismissForever",value:(c=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.getItem(this.INAPP_DISMISS_FOREVER));case 1:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"setInAppDismissForever",value:(u=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.INAPP_DISMISS_FOREVER,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"getDeviceJson",value:(a=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.getItem(this.DEVICE_JSON));case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"setDeviceJson",value:(s=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.DEVICE_JSON,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"getRegisteredByCookie",value:(o=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.getItem(this.REGISTERED_BY_COOKIE));case 1:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"setRegisteredByCookie",value:(i=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.setItem(this.REGISTERED_BY_COOKIE,t);case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})}])&&H(t.prototype,n),r&&H(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),l=Object.freeze({DEBUG:1,INFO:2,WARNING:3,ERROR:4});function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const R=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.tag="[IND]",e&&(this.tag=e),this.level=l.INFO,this.setLogLevel(m.getLogLevel()),this.log=[]}var e,n,r;return e=t,r=[{key:"addedAsString",value:function(e){return"string"==typeof e?e:JSON.stringify(e,null,2)}}],(n=[{key:"setLogLevel",value:function(e){e&&e>=l.DEBUG&&e<=l.ERROR&&(this.level=e)}},{key:"d",value:function(){if(this.level<=l.DEBUG)for(var e=0;e<arguments.length;e++)this.log+=t.addedAsString(arguments[e]);return this}},{key:"i",value:function(){if(this.level<=l.INFO)for(var e=0;e<arguments.length;e++)this.log+=t.addedAsString(arguments[e]);return this}},{key:"w",value:function(){if(this.level<=l.WARNING)for(var e=0;e<arguments.length;e++)this.log+=t.addedAsString(arguments[e]);return this}},{key:"e",value:function(e){return this.level<=l.ERROR&&(this.log+="".concat(e.errorCode,": ").concat(e.errorMessage)),this}},{key:"writeLog",value:function(){0<this.log.length&&console.log(this.tag,this.log),this.log=[]}}])&&X(e.prototype,n),r&&X(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=new R("[IND]Crypto"),$=window.crypto.subtle,ee=new TextEncoder("utf-8");const te=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,r,a,i;return t=e,n=null,r=[{key:"createHmac",value:(a=regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,$){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,$.importKey("raw",ee.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]);case 5:return r=e.sent,e.next=8,$.sign("HMAC",r,ee.encode(n));case 8:return r=e.sent,i=new Uint8Array(r),i=Array.prototype.map.call(i,function(e){return("00"+e.toString(16)).slice(-2)}).join(""),Z.d("hmac: ",i).writeLog(),e.abrupt("return",i);case 15:return e.prev=15,e.t0=e.catch(0),Z.e("error:",e.t0).writeLog(),e.abrupt("return");case 19:case"end":return e.stop()}},e,null,[[0,15]])}),i=function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){Q(r,t,n,i,o,"next",e)}function o(e){Q(r,t,n,i,o,"throw",e)}i(void 0)})},function(e,t){return i.apply(this,arguments)})}],n&&z(t.prototype,n),r&&z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const b=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,n=this,r=i;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");null==e?(this.deviceId=m.getDeviceId(),this.pushToken=m.getPushToken(),this.browserPublicKey=m.getBrowserPublicKey(),this.browserPrivateKey=m.getBrowserPrivateKey(),this.platform=m.getPlatform(),this.version=m.getVersion(),this.browserName=m.getBrowserName(),this.browserVersion=m.getBrowserVersion(),this.osName=m.getOsName(),this.osVersion=m.getOsVersion(),this.deviceType=m.getDeviceType(),m.getEnabled()&&(this.enabled="true"===m.getEnabled()),m.getExternalId()&&(this.externalCode=m.getExternalId())):t?(e.enabled&&(this.enabled=e.enabled,m.setEnabled(this.enabled)),e.deviceId&&(this.deviceId=e.deviceId,m.setDeviceId(this.deviceId)),e.registeredByCookie&&(this.registeredByCookie=e.registeredByCookie,m.setRegisteredByCookie(this.registeredByCookie))):(e.deviceId&&(this.deviceId=e.deviceId),e.pushToken&&(this.pushToken=e.pushToken),e.browserPublicKey&&(this.browserPublicKey=e.browserPublicKey),e.browserPrivateKey&&(this.browserPrivateKey=e.browserPrivateKey),e.platform&&(this.platform=e.platform),e.version&&(this.version=e.version),e.osVersion&&(this.osVersion=e.osVersion),e.browserName&&(this.browserName=e.browserName),e.browserVersion&&(this.browserVersion=e.browserVersion),e.osName&&(this.osName=e.osName),e.deviceType&&(this.deviceType=e.deviceType),e.enabled&&(this.enabled=e.enabled),e.externalCode&&(this.externalCode=e.externalCode)),this.platform&&(this.productName=this.platform),this.version&&(this.productVersion=this.version),navigator&&"language"in navigator&&(this.locale=navigator.language),Intl&&"DateTimeFormat"in Intl&&(this.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone),this.timeOffset=-(new Date).getTimezoneOffset()}var e,t,n;return e=i,n=[{key:"setDeviceJson",value:function(e){m.setDeviceJson(JSON.stringify(e.toJSON()))}},{key:"compareDevices",value:function(e){var t,n=new i,r=new i({});return(t=null!=e?new i(e):t)?(n.pushToken&&n.pushToken!=t.pushToken&&(r.pushToken=n.pushToken),n.externalCode&&n.externalCode!=t.externalCode&&(r.externalCode=n.externalCode),n.deviceType&&n.deviceType!=t.deviceType&&(r.deviceType=n.deviceType),n.osName&&n.osName!=t.osName&&(r.osName=n.osName),n.version&&n.version!=t.version&&(r.version=n.version,r.productVersion=n.version),r.platform=n.platform,r.productName=n.platform,n.osVersion&&n.osVersion!=t.osVersion&&(r.osVersion=n.osVersion),n.browserName&&n.browserName!=t.browserName&&(r.browserName=n.browserName),n.browserVersion&&n.browserVersion!=t.browserVersion&&(r.browserVersion=n.browserVersion),n.browserPublicKey&&n.browserPublicKey!=t.browserPublicKey&&(r.browserPublicKey=n.browserPublicKey),n.browserPrivateKey&&n.browserPrivateKey!=t.browserPrivateKey&&(r.browserPrivateKey=n.browserPrivateKey),n.deviceId&&n.deviceId!=t.deviceId&&(r.deviceId=n.deviceId),n.enabled&&n.enabled!=t.enabled&&(r.enabled=n.enabled),n.externalCode&&n.externalCode!=t.externalCode&&(r.externalCode=n.externalCode),navigator&&"language"in navigator&&navigator.language==t.locale&&(r.locale=null),Intl&&"DateTimeFormat"in Intl&&Intl.DateTimeFormat().resolvedOptions().timeZone==t.timeZone&&(r.timeZone=null),-(new Date).getTimezoneOffset()==t.timeOffset&&(r.timeOffset=null),m.setDeviceJson(JSON.stringify(n.toJSON()))):(r=new i,m.setDeviceJson(JSON.stringify(r.toJSON()))),r}}],(t=[{key:"getDeviceId",value:function(){return this.deviceId}},{key:"getPushToken",value:function(){return this.pushToken}},{key:"setExternalCode",value:function(e){this.externalCode=e}},{key:"toJSON",value:function(){var e={};return this.platform&&(e.platform=this.platform),this.version&&(e.version=this.version),this.productName&&(e.productName=this.productName),this.productVersion&&(e.productVersion=this.productVersion),this.browserName&&(e.browserName=this.browserName),this.browserVersion&&(e.browserVersion=this.browserVersion),this.osName&&(e.osName=this.osName),this.osVersion&&(e.osVersion=this.osVersion),this.deviceType&&(e.deviceType=this.deviceType),this.locale&&(e.locale=this.locale),this.timeZone&&(e.timeZome=this.timeZone),this.timeOffset&&(e.timeOffset=this.timeOffset),this.deviceId&&(e.deviceId=this.deviceId),this.enabled&&(e.enabled=this.enabled),this.pushToken&&(e.pushToken=this.pushToken),this.browserPublicKey&&(e.browserPublicKey=this.browserPublicKey),this.browserPrivateKey&&(e.browserPrivateKey=this.browserPrivateKey),this.externalCode&&(e.externalCode=this.externalCode),e}}])&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(),re=Object.freeze({DEFAULT:-1,ENABLE:1,DISABLE:0}),p=Object.freeze({EVENT_TYPE_CLICK:"click",EVENT_TYPE_RECEIVE:"receive",EVENT_TYPE_UPDATE:"update",EVENT_TYPE_ACCEPT:"accept",EVENT_TYPE_REJECT:"reject",EVENT_TYPE_ASK:"ask"});function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const oe=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,r;return t=e,r=[{key:"isServiceTimestampExceed",value:function(){return!m.getServiceTimestamp()||m.getServiceSyncTime()<=(Date.now()-m.getServiceTimestamp())/6e4}}],(n=null)&&ie(t.prototype,n),r&&ie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&se(e.prototype,t),n&&se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}const I=ae(function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.errorCode=t,this.errorMessage=n});t=Object.freeze({GENERAL_ERROR:600,API_SERVER_ERROR:500,API_PARAMETER_MISSING:400,API_APPKEY_NOT_VALID:401,API_FORBIDDEN_REQUEST:403,API_DEVICE_NOT_FOUND:404,API_TOPICS_ARE_INSERTED:409,PUSH_INITIALIZATION_ERROR:1e3,PUSH_RECEPTION_ERROR:1200,PUSH_TOPICS_ERROR:1400,PUSH_DEVICE_ERROR:1500,PUSH_EVENT_ERROR:1600,INAPP_ERROR:2e3,INAPP_SHOW_INAPP_ERROR:2100,INAPP_POPUP_ERROR:2300,INAPP_GENERAL_ERROR:2600,INBOX_GET_ERROR:3001,INBOX_GET_PAGE_ERROR:3011,INBOX_GENERAL_ERROR:3600,CUSTOMER_GET_ERROR:4001,CUSTOMER_PARAMS_ERROR:4011,CUSTOMER_GENERAL_ERROR:4600,CUSTOMER_NO_EXTERNAL_CODE:4601,BAD_REQUEST_SERVER_ERROR:4800});const _=t;function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const O=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.INBOX_NO_MESSAGES="There are no more messages on Inbox",this.INBOX_EXTERNAL_ID_NO_REGISTERED="External Id not registered",this.INBOX_IS_REQUESTING_PAGE="Wait. Is Requesting new page",this.INAPP_ERROR_CONTENT_MESSAGE="InApp error with content",this.INBOX_EMPTY="There are no messages on Inbox",this.CUSTOMER_ERROR_PARAMS="Params is not correct",this.GENERAL_ERROR_BAD_REQUEST="AppKey or DeviceId are null or empty",this.GENERAL_ERROR_APPKEY_BAD_REQUEST="AppKey is null or empty"}var t,n,r;return t=e,(n=[{key:"requestError",value:function(e,t){new I(e,t);return 4800===e?new I(_.BAD_REQUEST_SERVER_ERROR,t):new I(_.GENERAL_ERROR,t)}},{key:"apiError",value:function(e,t){var n=new I(e,t);switch(e){case 500<=e&&e<600:n=new I(_.SERVER_ERROR,t);break;case 400:n=new I(_.API_PARAMETER_MISSING,t);break;case 401:n=new I(_.API_APPKEY_NOT_VALID,t);break;case 403:n=new I(_.API_FORBIDDEN_REQUEST,t);break;case 404:n=new I(_.API_DEVICE_NOT_FOUND,t);break;case 409:n=new I(_.API_TOPICS_ARE_INSERTED,t);break;default:n=new I(_.GENERAL_ERROR,t)}return n}},{key:"pushError",value:function(e,t){var n=new I(e,t);switch(e){case 1e3<=e&&e<1200:n=new I(_.PUSH_INITIALIZATION_ERROR,t);break;case 1200<=e&&e<1400:n=new I(_.PUSH_RECEPTION_ERROR,t);break;case 1400<=e&&e<1500:n=new I(_.PUSH_TOPICS_ERROR,t);break;case 1500<=e&&e<1600:n=new I(_.PUSH_DEVICE_ERROR,t);break;case 1600<=e&&e<1700:n=new I(_.PUSH_EVENT_ERROR,t);break;default:n=new I(_.GENERAL_ERROR,t)}return n}},{key:"inAppError",value:function(e,t){var n=new I(e,t);switch(e){case 2e3<=e&&e<2099:n=new I(_.INAPP_ERROR,t);break;case 2100<=e&&e<2299:n=new I(_.INAPP_SHOW_INAPP_ERROR,t);break;case 2300<=e&&e<2399:n=new I(_.INAPP_POPUP_ERROR,t);break;default:n=new I(_.GENERAL_ERROR,t)}return n}},{key:"inboxError",value:function(e,t){var n=new I(e,t);switch(e){case 3001:n=new I(_.INBOX_GET_ERROR,t);break;case 3011:n=new I(_.INBOX_GET_PAGE_ERROR,t);break;default:n=new I(_.INBOX_GENERAL_ERROR,t)}return n}},{key:"customerError",value:function(e,t){var n=new I(e,t);switch(e){case 4001:n=new I(_.CUSTOMER_GET_ERROR,t);break;case 4011:n=new I(_.CUSTOMER_PARAMS_ERROR,t);break;default:n=new I(_.CUSTOMER_GENERAL_ERROR,t)}return n}}])&&ue(t.prototype,n),r&&ue(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function ce(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function f(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){ce(r,t,n,i,o,"next",e)}function o(e){ce(r,t,n,i,o,"throw",e)}i(void 0)})}}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var le=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.URL_BASE="",this.GET="GET",this.POST="POST",this.PUT="PUT",this.DELETE="DELETE"}var t,n,r,i,o,s,a,u,c;return t=e,(n=[{key:"getURL",value:(c=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.URL_BASE);case 1:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"call",value:(u=f(regeneratorRuntime.mark(function e(t,n,r,i){var o,s,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=new R,e.next=3,this.getURL();case 3:return e.t0=e.sent,e.t1=r.getPath(n),e.t2=e.t0+e.t1,e.t3=r.getParams(),s=e.t2+e.t3,r.isJourneyRequest()&&(s=s.replace("v1","v2")),u={method:t,headers:r.addHeaders()},t!==this.GET&&(u.body=JSON.stringify(r.getBody())),i&&(u.credentials=i),e.prev=12,e.next=15,fetch(s,u);case 15:return a=e.sent,e.next=18,a.json();case 18:if(u=e.sent,a.ok)return o.d("Method: "+t+"\nURL: "+s+"\n"+"".concat(t!==this.GET?"Request Body: "+JSON.stringify(r.getBody(),null,"\t")+"\n":"")+"Response Code: "+u.statusCode+"\nResponse Message: "+u.message+"\nResponse Body:",JSON.stringify(u.data,null,"\t")).writeLog(),e.abrupt("return",u);e.next=22;break;case 22:return o.d("Method: "+t+"\nURL: "+s+"\n"+"".concat(t!==this.GET?"Request Body: "+JSON.stringify(r.getBody(),null,"\t")+"\n":"")+"Response Code: "+a.status+"\nResponse Message: "+a.statusText+"\n").writeLog(),e.abrupt("return",new I(a.status,a.statusText));case 26:return e.prev=26,e.t4=e.catch(12),o.d("Method: "+t+"\nURL: "+s+"\n"+"".concat(t!==this.GET?"Request Body: "+JSON.stringify(r.getBody(),null,"\t")+"\n":"")+"Error: "+e.t4).writeLog(),e.abrupt("return",O.apiError(_.API_SERVER_ERROR,e.t4));case 30:case"end":return e.stop()}},e,this,[[12,26]])})),function(e,t,n,r){return u.apply(this,arguments)})},{key:"get",value:(a=f(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call(this.GET,t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"post",value:(s=f(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call(this.POST,t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t,n){return s.apply(this,arguments)})},{key:"put",value:(o=f(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call(this.PUT,t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t,n){return o.apply(this,arguments)})},{key:"delete",value:(i=f(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call(this.DELETE,t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})}])&&fe(t.prototype,n),r&&fe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const ve=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,r;return t=e,r=[{key:"compareJSON",value:function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,o=n;i<o.length;i++){var s=o[i];if(e[s]!==t[s]){if("object"!=pe(e[s])||"object"!=pe(t[s]))return!1;if(!isEqual(e[s],t[s]))return!1}}return!0}}],(n=null)&&he(t.prototype,n),r&&he(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const w=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,r;return t=e,r=[{key:"isDeviceIdFormat",value:function(e){return null!=e&&""!=e&&"null"!=e&&8<e.length}},{key:"isAppKeyFormat",value:function(){var e=m.getAppKey();return null!=e&&""!=e&&"null"!=e&&3<e.length}},{key:"isExternalIdFormat",value:function(){var e=m.getExternalId();return null!=e&&""!=e&&"null"!=e&&8<e.length}},{key:"isValidFormatRequest",value:function(){var e=new R("[IND]Validations: "),t=m.getDeviceId(),n=!0;return this.isAppKeyFormat()||(n=!1,e.w("appKey is null or empty").writeLog()),this.isDeviceIdFormat(t)||(n=!1,e.w("deviceId is null or empty").writeLog()),n}}],(n=null)&&de(t.prototype,n),r&&de(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function P(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){ge(r,t,n,i,o,"next",e)}function o(e){ge(r,t,n,i,o,"throw",e)}i(void 0)})}}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=be(n),t=(e=r?(e=be(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const h=new(function(){var e=E,t=le;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t);var n,r,i,o,s,a,u,c,f,l,p,h,v,d,y,g=Re(E);function E(){var e;if(this instanceof E)return(e=g.call(this)).URL_BASE=T.client.URL_BASE,e.ENDPOINT_APPLICATION="/application",e.ENDPOINT_APPLICATION_ALL=e.ENDPOINT_APPLICATION+"/all",e.ENDPOINT_DEVICE="/device",e.ENDPOINT_DEVICE_TOPICS=e.ENDPOINT_DEVICE+"/topics",e.ENDPOINT_PUSH="/push",e.ENDPOINT_EVENT="/event",e.ENDPOINT_EVENT_PUSH=e.ENDPOINT_EVENT+"/push",e.ENDPOINT_EVENT_VISIT=e.ENDPOINT_EVENT+"/visit",e.ENDPOINT_EVENT_PERMISSION=e.ENDPOINT_EVENT+"/permission",e.ENDPOINT_EVENT_LOCATION=e.ENDPOINT_EVENT+"/location",e.ENDPOINT_EVENT_CUSTOM=e.ENDPOINT_EVENT+"/custom",e.ENDPOINT_EVENT_CUSTOM_BEACON=e.ENDPOINT_EVENT_CUSTOM+"/beacon",e.ENDPOINT_BROWSER="/browser",e.log=new R("[IND]Client: "),e;throw new TypeError("Cannot call a class as a function")}return e=E,(t=[{key:"getURL",value:(y=P(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getUrlDeviceApi();case 2:return t=e.sent,e.abrupt("return",t||this.URL_BASE);case 4:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"getApplicationAll",value:(d=P(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isAppKeyFormat())return e.next=3,this.get(this.ENDPOINT_APPLICATION_ALL,t.getApplicationRequest());e.next=7;break;case 3:!(i=e.sent)||i instanceof I?i?S.isFunction(r)&&r(i):S.isFunction(r)&&r():S.isFunction(n)&&n(i),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_APPKEY_BAD_REQUEST));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e,this)})),function(e,t,n){return d.apply(this,arguments)})},{key:"postDevice",value:(v=P(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isAppKeyFormat())return e.next=3,this.post(this.ENDPOINT_DEVICE,t.postDeviceRequest(),"include");e.next=14;break;case 3:if(!(i=e.sent)||i instanceof I){e.next=11;break}return o={enabled:i.data.enabled,deviceId:i.data.deviceId,registeredByCookie:i.data.registeredByCookie},e.next=8,m.setDeviceId(o.deviceId);case 8:S.isFunction(n)&&n(new b(o,!0)),e.next=12;break;case 11:i?S.isFunction(r)&&r(i):S.isFunction(r)&&r();case 12:e.next=15;break;case 14:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_APPKEY_BAD_REQUEST));case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,this)})),function(e,t,n){return v.apply(this,arguments)})},{key:"putDevice",value:(h=P(regeneratorRuntime.mark(function e(t,n,r){var i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(m.getDeviceJson()).then(function(e){return JSON.parse(e)});case 2:if(o=e.sent,i=new b,!o||!ve.compareJSON(o,i.toJSON())){e.next=8;break}S.isFunction(n)&&n(i),e.next=16;break;case 8:if(w.isValidFormatRequest())return e.next=11,this.put(this.ENDPOINT_DEVICE,t.putDeviceRequest(i),"include");e.next=15;break;case 11:!(o=e.sent)||o instanceof I?o?S.isFunction(r)&&r(o):S.isFunction(r)&&r():(s={enabled:o.data.enabled,deviceId:o.data.deviceId,registeredByCookie:o.data.registeredByCookie},S.isFunction(n)&&n(new b(s,!0))),e.next=16;break;case 15:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 16:case"end":return e.stop()}},e,this)})),function(e,t,n){return h.apply(this,arguments)})},{key:"getDevice",value:(p=P(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isValidFormatRequest())return e.next=3,this.get(this.ENDPOINT_DEVICE,t.getDeviceRequest());e.next=7;break;case 3:!(i=e.sent)||i instanceof I?i?S.isFunction(r)&&r(i):S.isFunction(r)&&r():(i={enabled:i.data.enabled,deviceId:i.data.deviceId},S.isFunction(n)&&n(new b(i,!0))),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e,this)})),function(e,t,n){return p.apply(this,arguments)})},{key:"getDeviceTopics",value:(l=P(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isValidFormatRequest())return e.next=3,this.get(this.ENDPOINT_DEVICE_TOPICS,t.getDeviceTopicsRequest());e.next=7;break;case 3:!(i=e.sent)||i instanceof I?i?S.isFunction(r)&&r(i):S.isFunction(r)&&r():(i=i.data.topics,S.isFunction(n)&&n(i)),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e,this)})),function(e,t,n){return l.apply(this,arguments)})},{key:"postDeviceTopics",value:(f=P(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isValidFormatRequest())return e.next=3,this.post(this.ENDPOINT_DEVICE_TOPICS,t.postDeviceTopicsRequest());e.next=7;break;case 3:!(i=e.sent)||i instanceof I?i?S.isFunction(r)&&r(i):S.isFunction(r)&&r():(i=i.data.topics,S.isFunction(n)&&n(i)),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e,this)})),function(e,t,n){return f.apply(this,arguments)})},{key:"deleteDeviceTopics",value:(c=P(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isValidFormatRequest())return e.next=3,this.delete(this.ENDPOINT_DEVICE_TOPICS,t.deleteDeviceTopicsRequest());e.next=7;break;case 3:!(i=e.sent)||i instanceof I?i?S.isFunction(r)&&r(i):S.isFunction(r)&&r():(i=i.data.topics,S.isFunction(n)&&n(i)),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e,this)})),function(e,t,n){return c.apply(this,arguments)})},{key:"postEventPush",value:(u=P(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isValidFormatRequest())return e.next=3,this.post(this.ENDPOINT_EVENT_PUSH,t.postEventPushRequest());e.next=3;break;case 3:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"postEventVisit",value:function(e){w.isValidFormatRequest()&&this.post(this.ENDPOINT_EVENT_VISIT,e.postEventVisitRequest())}},{key:"postEventPermission",value:function(e){w.isValidFormatRequest()&&this.post(this.ENDPOINT_EVENT_PERMISSION,e.postEventPermissionRequest())}},{key:"postEventLocation",value:function(e){w.isValidFormatRequest()&&this.post(this.ENDPOINT_EVENT_LOCATION,e.postEventLocationRequest())}},{key:"getBrowser",value:(a=P(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isAppKeyFormat())return e.next=3,this.get(this.ENDPOINT_BROWSER,t);e.next=22;break;case 3:if(!(i=e.sent)||i instanceof I){e.next=19;break}return o={browserName:i.data.browserName,browserVersion:i.data.browserVersion,deviceType:i.data.deviceType,osName:i.data.osName,osVersion:i.data.osVersion,supported:i.data.supported,platform:i.data.platform},e.next=8,m.setBrowserName(o.browserName);case 8:return m.setBrowserVersion(o.browserVersion),e.next=11,m.setOsName(o.osName);case 11:return m.setOsVersion(o.osVersion),m.setDeviceType(o.deviceType),m.setSupported(o.supported),e.next=16,m.setPlatform(o.platform);case 16:S.isFunction(n)&&n(o),e.next=20;break;case 19:i?S.isFunction(r)&&r(i):S.isFunction(r)&&r();case 20:e.next=23;break;case 22:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 23:return e.abrupt("return",!0);case 24:case"end":return e.stop()}},e,this)})),function(e,t,n){return a.apply(this,arguments)})},{key:"postEventCustom",value:(s=P(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isValidFormatRequest())return e.next=3,this.post(this.ENDPOINT_EVENT_CUSTOM,t.postEventCustomRequest());e.next=7;break;case 3:!(i=e.sent)||i instanceof I?i?S.isFunction(r)&&r(i):S.isFunction(r)&&r():S.isFunction(n)&&n(i),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e,this)})),function(e,t,n){return s.apply(this,arguments)})},{key:"postEventCustomSync",value:(o=P(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.isValidFormatRequest()){e.next=34;break}if(t=t.postEventCustomRequest(),e.prev=2,navigator&&"sendBeacon"in navigator)return e.next=6,this.getURL();e.next=15;break;case 6:e.t0=e.sent,e.t1=this.ENDPOINT_EVENT_CUSTOM_BEACON,e.t2=e.t0+e.t1,e.t3=t.getParams(),i=e.t2+e.t3,navigator.sendBeacon(i,JSON.stringify(t.getBody())),S.isFunction(n)&&n(),e.next=27;break;case 15:return e.next=17,this.getURL();case 17:e.t4=e.sent,e.t5=this.ENDPOINT_EVENT_CUSTOM,e.t6=e.t4+e.t5,e.t7=t.getParams(),i=e.t6+e.t7,(o=new XMLHttpRequest).open("POST",i,!1),o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&(200<=o.status||o.status<300)?S.isFunction(n)&&n():S.isFunction(r)&&r()},o.send(JSON.stringify(t.getBody()));case 27:e.next=32;break;case 29:e.prev=29,e.t8=e.catch(2),S.isFunction(r)&&r(new I(_.PUSH_EVENT_ERROR,e.t8));case 32:e.next=35;break;case 34:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 35:return e.abrupt("return",!0);case 36:case"end":return e.stop()}},e,this,[[2,29]])})),function(e,t,n){return o.apply(this,arguments)})},{key:"postEventJourney",value:(i=P(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isValidFormatRequest())return e.next=3,this.post(this.ENDPOINT_PUSH+this.ENDPOINT_EVENT_CUSTOM,t.postEventCustomRequest());e.next=7;break;case 3:!(i=e.sent)||i instanceof I?i?S.isFunction(r)&&r(i):S.isFunction(r)&&r():S.isFunction(n)&&n(i),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e,this)})),function(e,t,n){return i.apply(this,arguments)})},{key:"postEventJourneySync",value:(r=P(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isValidFormatRequest())return t=t.postEventCustomRequest(),e.prev=2,e.next=5,this.getURL();e.next=34;break;case 5:if(i=(i=e.sent).replace("v1","v2"),!(navigator&&"sendBeacon"in navigator)){e.next=13;break}i=i+this.ENDPOINT_PUSH+this.ENDPOINT_EVENT_CUSTOM+t.getParams(),navigator.sendBeacon(i,JSON.stringify(t.getBody())),S.isFunction(n)&&n(),e.next=27;break;case 13:return e.next=15,this.getURL().replace("v1","v2");case 15:e.t0=e.sent,e.t1=this.ENDPOINT_PUSH,e.t2=e.t0+e.t1,e.t3=this.ENDPOINT_EVENT_CUSTOM,e.t4=e.t2+e.t3,e.t5=t.getParams(),i=e.t4+e.t5,(o=new XMLHttpRequest).open("POST",i,!1),o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&(200<=o.status||o.status<300)?S.isFunction(n)&&n():S.isFunction(r)&&r()},o.send(JSON.stringify(t.getBody()));case 27:e.next=32;break;case 29:e.prev=29,e.t6=e.catch(2),S.isFunction(r)&&r(new I(_.PUSH_EVENT_ERROR,e.t6));case 32:e.next=35;break;case 34:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 35:return e.abrupt("return",!0);case 36:case"end":return e.stop()}},e,this,[[2,29]])})),function(e,t,n){return r.apply(this,arguments)})}])&&Ee(e.prototype,t),n&&Ee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),E}());function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.PARAM_APP_KEY="appKey",this.PARAM_DEVICE_ID="deviceId",this.PARAM_PUSH_TOKEN="pushToken",this.PARAM_ENABLED="enabled",this.PARAM_PLATFORM="platform",this.PARAM_VERSION="version",this.PARAM_TOPICS="topics",this.PARAM_EVENT_TYPE="eventType",this.PARAM_PUSH_ID="pushId",this.PARAM_CLICKED_BUTTON="clickedButton",this.PARAM_PERMISSION_TYPE="permissionType",this.PARAM_LATITUDE="latitude",this.PARAM_LONGITUDE="longitude",this.PARAM_INAPP_ID="inAppId",this.PARAM_INAPP_EVENT_TYPE="eventType",this.PARAM_INAPP_CLICKED_BUTTON="clickedButton",this.PARAM_INAPP_LAST_VERSION_ID="lastVersionId",this.PARAM_INBOX_EXTERNALID="externalId",this.PARAM_INBOX_PAGE="page",this.PARAM_INBOX_PAGE_SIZE="pageSize",this.PARAM_INBOX_DATE_FROM="dateFrom",this.PARAM_INBOX_DATE_TO="dateTo",this.PARAM_INBOX_STATUS="status",this.PARAM_INBOX_SENDER_IDS="sendingIds",this.PARAM_CUSTOMER_ID="customerId",this.PARAM_CUSTOMER_FIELD_NAMES="fieldNames",this.PARAM_CUSTOMER_FIELDS="fields",this.PARAM_CUSTOMER_LINK="link",this.PARAM_CUSTOMER_CHANNEL="channel",this.appKey=m.getAppKey(),this.params=null,this.pathParams={},this.headers={}}var t,n,r;return t=e,(n=[{key:"getParams",value:function(){return"?"+this.PARAM_APP_KEY+"="+this.appKey+(this.params?"&"+this.params:"")}},{key:"getBody",value:function(){return this.body||""}},{key:"getPath",value:function(e){var t=this,n=e;return Object.keys(this.pathParams).forEach(function(e){n=n.replace(e,t.pathParams[e])}),n}},{key:"addHeaders",value:function(){var t=this,n=new Headers({"Content-Type":"application/json"});return Object.keys(this.headers).forEach(function(e){n.append(e,t.headers[e])}),n}},{key:"isJourneyRequest",value:function(){return this.journeyRequest}},{key:"setJourneyRequest",value:function(e){this.journeyRequest=e}}])&&Ie(t.prototype,n),r&&Ie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Te(n),t=(e=r?(e=Te(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const v=function(){var e=o,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t);var n,a,r,i=Se(o);function o(){if(this instanceof o)return i.call(this);throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"setEventType",value:function(e){this.eventType=e}},{key:"setPushId",value:function(e){this.pushId=e}},{key:"setClickedButton",value:function(e){this.clickedButton=e}},{key:"setSendingId",value:function(e){this.sendingId=e}},{key:"setPermissionType",value:function(e){this.permissionType=e}},{key:"setLocation",value:function(e,t){this.latitude=e,this.longitude=t}},{key:"setDeviceId",value:function(e){this.deviceId=e}},{key:"setPlatform",value:function(e){this.platform=e}},{key:"setAppKey",value:function(e){this.appKey=e}},{key:"setCustomData",value:function(e){this.customData=e}},{key:"setExternalCodeRequest",value:(a=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getExternalIdRequest();case 2:this.externalCode=e.sent;case 3:case"end":return e.stop()}},e,this)}),r=function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){Oe(r,t,n,i,o,"next",e)}function o(e){Oe(r,t,n,i,o,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})},{key:"setExternalCode",value:function(e){this.externalCode=e}},{key:"setCampaingId",value:function(e){this.campaignId=e}},{key:"setJourneyStateId",value:function(e){this.journeyStateId=e}},{key:"postEventPushRequest",value:function(){var e={};return e.deviceId=this.deviceId,e.platform=this.platform,this.eventType&&(e.eventType=this.eventType),this.pushId&&(e.pushId=this.pushId),e.clickedButton=this.clickedButton,null!=this.externalCode&&(e.externalCode=this.externalCode),this.sendingId&&"undefined"!=this.sendingId&&(e.sendingId=this.sendingId),this.journeyStateId&&(e.journeyStateId=this.journeyStateId),this.campaignId&&(e.campaignId=this.campaignId),this.body=e,this}},{key:"postEventVisitRequest",value:function(){var e={};return e.deviceId=m.getDeviceId(),e.eventType=p.EVENT_TYPE_UPDATE,this.body=e,this}},{key:"postEventPermissionRequest",value:function(){var e={};return e.deviceId=m.getDeviceId(),this.eventType&&(e.eventType=this.eventType),this.permissionType&&(e.permissionType=this.permissionType),this.body=e,this}},{key:"postEventLocationRequest",value:function(){var e={};return e.deviceId=m.getDeviceId(),e.eventType=p.EVENT_TYPE_UPDATE,this.latitude&&(e.latitude=this.latitude),this.longitude&&(e.longitude=this.longitude),this.body=e,this}},{key:"postEventCustomRequest",value:function(){var e={};return this.deviceId&&(e.deviceId=this.deviceId),this.eventType&&(e.eventType=this.eventType),this.customData&&(e.customData=this.customData),this.externalCode&&(e.externalCode=this.externalCode),this.body=e,this}}])&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}();function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const S=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,r;return t=e,r=[{key:"urlBase64ToUint8Array",value:function(e){for(var e=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),t=window.atob(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}},{key:"callEventPermission",value:function(e,t){var n=new v;n.setAppKey(m.getAppKey()),n.setDeviceId(m.getDeviceId()),n.setPermissionType(e),n.setEventType(t),h.postEventPermission(n)}},{key:"isFunction",value:function(e){return!(!e||"function"!=typeof e)}}],(n=null)&&Ae(t.prototype,n),r&&Ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function xe(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){ke(r,t,n,i,o,"next",e)}function o(e){ke(r,t,n,i,o,"throw",e)}i(void 0)})}}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Le(n),t=(e=r?(e=Le(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Be=new(function(){var e=s,t=le;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t);var n,r,i,o=Fe(s);function s(){var e;if(this instanceof s)return(e=o.call(this)).URL_BASE=T.client.INAPP_URL_BASE,e.ENDPOINT_CAMPAIGN="/campaign",e.ENDPOINT_CAMPAIGN_TAG=e.ENDPOINT_CAMPAIGN+"/{tag}",e.ENDPOINT_EVENT="/event",e.ENDPOINT_EVENT_INAPP=e.ENDPOINT_EVENT+"/inApp",e;throw new TypeError("Cannot call a class as a function")}return e=s,(t=[{key:"getURL",value:(i=xe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getUrlInappApi();case 2:return t=e.sent,e.abrupt("return",t||this.URL_BASE);case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getCampaignTag",value:(r=xe(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.ENDPOINT_CAMPAIGN_TAG,t.getCampaignTagRequest());case 2:return!(i=e.sent)||i instanceof I&&i.data!={}?i?S.isFunction(r)&&r(i):S.isFunction(r)&&r(new I(_.INAPP_GENERAL_ERROR,O.INAPP_ERROR_CONTENT_MESSAGE)):S.isFunction(n)&&n({inAppId:i.data.inAppId,lastVersionId:i.data.lastVersionId,showOnce:i.data.showOnce,creationDate:i.data.creationDate,expiredDate:i.data.expiredDate,properties:i.data.properties,renewalTime:i.data.renewalTime,schema:i.data.schema}),e.abrupt("return",null);case 5:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"postEventInApp",value:function(e){w.isValidFormatRequest()&&this.post(this.ENDPOINT_EVENT_INAPP,e.postEventInAppRequest())}}])&&De(e.prototype,t),n&&De(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}());function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ge(n),t=(e=r?(e=Ge(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const qe=function(){var e=i,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t);var n,r=Ve(i);function i(){var e;if(this instanceof i)return(e=r.call(this)).device=new b,e;throw new TypeError("Cannot call a class as a function")}return e=i,(t=[{key:"setTag",value:function(e){this.tag=e}},{key:"getCampaignTagRequest",value:function(){return this.params=this.createQueryString(),this.pathParams["{tag}"]=this.tag,this}},{key:"createQueryString",value:function(){return this.PARAM_DEVICE_ID+"="+this.device.getDeviceId()}}])&&Ue(e.prototype,t),n&&Ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=He(n),t=(e=r?(e=He(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Xe=function(){var e=i,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&We(e,t);var n,r=Je(i);function i(){if(this instanceof i)return r.call(this);throw new TypeError("Cannot call a class as a function")}return e=i,(t=[{key:"setEventType",value:function(e){this.eventType=e}},{key:"setInAppId",value:function(e){this.inAppId=e}},{key:"setClickedButton",value:function(e){this.clickedButton=e}},{key:"setLastVersionId",value:function(e){this.lastVersionId=e}},{key:"setDeviceId",value:function(e){this.deviceId=e}},{key:"setPlatform",value:function(e){this.platform=e}},{key:"postEventInAppRequest",value:function(){var e={};return e.inAppId=this.inAppId,e.lastVersionId=this.lastVersionId,e.deviceId=this.deviceId,this.eventType&&(e.eventType=this.eventType),e.platform=this.platform,e.clickedButton=this.clickedButton,this.body=e,this}}])&&Ke(e.prototype,t),n&&Ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const y=function(){function a(e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");e.inAppId&&(this.inAppId=e.inAppId),e.scheme&&(this.scheme=e.scheme),e.creationDate&&(this.creationDate=e.creationDate),e.expiredDate&&(this.expiredDate=e.expiredDate),e.timesShowed&&(this.timesShowed=e.timesShowed),e.timesClicked&&(this.timesClicked=e.timesClicked),e.lastVersionId&&(this.lastVersionId=e.lastVersionId)}var e,t,n;return e=a,n=[{key:"inAppShowOnceInstace",value:function(e,t,n,r,i,o,s){return new a({inAppId:e,scheme:t,creationDate:n,expiredDate:r,timesShowed:i,timesClicked:o,lastVersionId:s})}}],(t=[{key:"toJSON",value:function(){return{inAppId:this.inAppId,scheme:this.scheme,creationDate:this.creationDate,expiredDate:this.expiredDate,timesShowed:this.timesShowed,timesClicked:this.timesClicked,lastVersionId:this.lastVersionId}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}])&&Qe(e.prototype,t),n&&Qe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}();function ze(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function c(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){ze(r,t,n,i,o,"next",e)}function o(e){ze(r,t,n,i,o,"throw",e)}i(void 0)})}}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const d=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.MONTH=24192e5}var e,t,n,r,i,o,s,a,u;return e=d,t=null,n=[{key:"inAppWasShown",value:(u=c(regeneratorRuntime.mark(function e(n,t,r,i,o){var s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isShowOnce(n,t,r,c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.isShouldBeShown(n);case 2:t=e.sent,n.properties&&0<n.properties.numberOfClicks&&!t?S.isFunction(i)&&i():S.isFunction(o)&&o(n);case 4:case"end":return e.stop()}},e)})));case 1:case"end":return e.stop()}},e,this)})),function(e,t,n,r,i){return u.apply(this,arguments)})},{key:"isShowOnce",value:function(e,t,n,r){e.showOnce&&(e.properties.numberOfShows=1),e.properties&&0<e.properties.numberOfShows?this.isWasShown(e,t,n,r):S.isFunction(r)&&r()}},{key:"isWasShown",value:(a=c(regeneratorRuntime.mark(function e(t,n,r,i){var o,s,a,u,c,f,l,p,h,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p=m.getInAppShowOnce(),o=[],e.next=4,this.convertToJSONArray(p);case 4:if(s=e.sent,c=u=!1,f=1,0<t.properties.numberOfShows&&(f=t.properties.numberOfShows),!s){e.next=38;break}l=0;case 11:if(!(l<s.length)){e.next=31;break}if(a=s[l],p=new y(a),t.inAppId!=p.inAppId){e.next=27;break}if(u=!0,!((new Date).getTime()<new Date(p.expiredDate).getTime())){e.next=26;break}if(!(p.timesShowed<f)){e.next=22;break}p.timesShowed+=1,a=p,e.next=24;break;case 22:return S.isFunction(r)&&r(),e.abrupt("return");case 24:e.next=27;break;case 26:c=!0;case 27:a&&!c&&o.push(a);case 28:l++,e.next=11;break;case 31:if(!u){e.next=38;break}if(m.setInAppShowOnce(JSON.stringify(o)),c)return S.isFunction(n)&&n(),e.abrupt("return");e.next=36;break;case 36:return S.isFunction(i)&&i(),e.abrupt("return");case 38:h=this.getDate((new Date).getTime()),t.creationDate&&(h=t.creationDate),v=this.getDate((new Date).getTime()+(new d).MONTH),t.expiredDate&&(v=t.expiredDate),a=y.inAppShowOnceInstace(t.inAppId,t.schema.code,h,v,1,0,0),o.push(a),m.setInAppShowOnce(JSON.stringify(o)),S.isFunction(i)&&i();case 46:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return a.apply(this,arguments)})},{key:"updateInAppExpired",value:(s=c(regeneratorRuntime.mark(function e(){var t,n,r,i,o,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.getInAppShowOnce(),n=[],e.next=4,this.convertToJSONArray(t);case 4:if(r=e.sent,o=!1,r){for(s=0;s<r.length;s++)i=r[s],(a=new y(i))&&((new Date).getTime()<new Date(a.expiredDate).getTime()?n.push(i):o=!0);o&&m.setInAppShowOnce(JSON.stringify(n))}case 7:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"convertToJSONArray",value:(o=c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&""!=t)return e.next=3,Promise.resolve(t).then(function(e){return JSON.parse(e)});e.next=4;break;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},{key:"getDate",value:function(e){var e=new Date(e),t=""+(e.getMonth()+1),n=""+e.getDate(),r=e.getFullYear(),i=e.getHours(),o=e.getMinutes(),e=e.getSeconds();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),o.length<2&&(o="0"+o),e.length<2&&(e="0"+e),"".concat(r,"-").concat(t,"-").concat(n," ").concat(i,":").concat(o,":").concat(e)}},{key:"isShouldBeShown",value:(i=c(regeneratorRuntime.mark(function e(t){var n,r,i,o,s,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getInAppTimesClicked();case 2:return u=e.sent,n=[],e.next=6,this.convertToJSONArray(u);case 6:if(r=e.sent,o=!1,s=0,t.properties&&t.properties.numberOfClicks&&0<t.properties.numberOfClicks&&(s=t.properties.numberOfClicks),!r){e.next=29;break}a=0;case 12:if(!(a<r.length)){e.next=26;break}if(i=r[a],u=new y(i),t.inAppId!=u.inAppId){e.next=22;break}if(o=!0,!(u.timesClicked>=s)){e.next=21;break}i=u,e.next=22;break;case 21:return e.abrupt("return",!0);case 22:i&&n.push(i);case 23:a++,e.next=12;break;case 26:if(o)return m.setInAppTimesClicked(JSON.stringify(n)),e.abrupt("return",!1);e.next=29;break;case 29:return i=y.inAppShowOnceInstace(t.inAppId,t.schema.code,"","",0,0,0),n.push(i),m.setInAppTimesClicked(JSON.stringify(n)),e.abrupt("return",!0);case 33:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"addInAppNewClick",value:(r=c(regeneratorRuntime.mark(function e(t){var n,r,i,o,s,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getInAppTimesClicked();case 2:return n=e.sent,r=[],e.next=6,this.convertToJSONArray(n);case 6:if(i=e.sent,s=!1,i){for(a=0;a<i.length;a++)o=i[a],u=new y(o),t.inAppId==u.inAppId&&(s=!0,u.timesClicked?u.timesClicked+=1:u.timesClicked=1,o=u),o&&r.push(o);s&&m.setInAppTimesClicked(JSON.stringify(r))}case 9:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}],t&&Ze(e.prototype,t),n&&Ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),d}();function $e(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function et(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){$e(r,t,n,i,o,"next",e)}function o(e){$e(r,t,n,i,o,"throw",e)}i(void 0)})}}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const nt=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,r,i,o;return t=e,n=null,r=[{key:"isInAppDismissForever",value:(o=et(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.getInAppDismissForever(),e.next=3,d.convertToJSONArray(i);case 3:if(!(n=e.sent)){e.next=14;break}r=0;case 6:if(!(r<n.length)){e.next=14;break}if(newValue=n[r],(i=new y(newValue)).inAppId&&i.lastVersionId&&i.inAppId==t.inAppId&&i.lastVersionId==t.lastVersionId)return e.abrupt("return",!0);e.next=11;break;case 11:r++,e.next=6;break;case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},{key:"addNewInAppToDismissForever",value:(i=et(regeneratorRuntime.mark(function e(t){var n,r,i,o,s,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.getInAppDismissForever(),r=[],e.next=4,d.convertToJSONArray(n);case 4:if(i=e.sent,s=!1,i)for(a=0;a<i.length;a++)o=i[a],(u=new y(o)).inAppId&&u.lastVersionId&&u.inAppId==t.inAppId&&u.lastVersionId==t.lastVersionId&&(s=!0,(new Date).getTime()<new Date(u.expiredDate).getTime()&&(u.creationDate=d.getDate((new Date).getTime()),u.expiredDate=d.getDate((new Date).getTime()+(new d).MONTH),o=u)),o&&r.push(o);s||(o=y.inAppShowOnceInstace(t.inAppId,t.schema.code,d.getDate((new Date).getTime()),d.getDate((new Date).getTime()+(new d).MONTH),0,0,t.lastVersionId),r.push(o)),m.setInAppDismissForever(JSON.stringify(r));case 8:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})}],n&&tt(t.prototype,n),r&&tt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function rt(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function g(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){rt(r,t,n,i,o,"next",e)}function o(e){rt(r,t,n,i,o,"throw",e)}i(void 0)})}}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const ot=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,r,i,o,s,a,c;return t=e,n=null,r=[{key:"showInApp",value:function(e,t,n,r,i,o,s,a,u){this.drawInApp(e,t,n,r,i,o,s,a,u)}},{key:"showMultipleInApp",value:function(e,t,n,r,i,o,s,a,u){if(e.length==t.length&&0<e.length)for(var c=0;c<e.length;c++)this.drawInApp(e[c],t[c],n,r,i,o,s,a,u)}},{key:"drawInApp",value:(c=g(regeneratorRuntime.mark(function e(n,r,i,o,s,a,u,c,f){var l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.inAppGet(n,function(){var t=g(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.properties){e.next=11;break}if(e.t0=t.properties.dismissForever,e.t0)return e.next=5,nt.isInAppDismissForever(t);e.next=6;break;case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=10;break}S.isFunction(u)&&u(t,new O.inAppError(2304,"InApp was dismissed forever")),e.next=11;break;case 10:d.inAppWasShown(t,function(){S.isFunction(o)&&o(t,new O.inAppError(2101,"InApp was expired"))},function(){S.isFunction(s)&&s(t,new O.inAppError(2102,"InApp was shown more than"+t.properties.numberOfShows+" times"))},function(){S.isFunction(a)&&a(t,new O.inAppError(2103,"InApp was clicked more than "+t.properties.numberOfClicks+" times"))},function(e){l.createInApp(e,n,r,c,f,i)});case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),f);case 1:case"end":return e.stop()}},e,this)})),function(e,t,n,r,i,o,s,a,u){return c.apply(this,arguments)})},{key:"createInApp",value:(a=g(regeneratorRuntime.mark(function e(t,n,r,i,o,s){var a,u,c,f,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.properties&&t.properties.contentUrl){try{a=document.getElementById(r),a.innerHTML='<div id="dummyDiv'+n+'" style="width:'+t.schema.width+"px;height:"+t.schema.height+'px;position:absolute;top:0;bottom:0;background:transparent;cursor:pointer;"> </div><iframe id="inAppIFrame'+n+'" style="width:100%; height:100%; border:0px;" src="'+t.properties.contentUrl+'" scrolling="no"  ></iframe>',a.style.position="relative",a.style.overflow="hidden",t.properties.showTime&&(u=0,c=setInterval(function(){++u==parseInt(t.properties.showTime)&&(a.style.display="none",clearInterval(c),S.isFunction(s)&&s(t,a,1e3*t.properties.showTime))},1e3)),t.properties.layout&&t.properties.layout.borderRadius&&(f="".concat(parseInt(t.properties.layout.borderRadius),"px"),document.getElementById("dummyDiv"+n).style.borderRadius=f,a.style.borderRadius=f),S.isFunction(i)&&i(t,a)}catch(e){S.isFunction(o)&&o(e)}(l=document.getElementById("dummyDiv"+n)).addEventListener("indigitall_on_click_inapp",function(e){e.stopImmediatePropagation();try{this.addNewClick(t),window.open(t.properties.action.url)}catch(e){S.isFunction(o)&&o(e)}},!0),l.addEventListener("click",function(e){l.dispatchEvent(new CustomEvent("indigitall_on_click_inapp",{}))})}case 1:case"end":return e.stop()}},e)})),function(e,t,n,r,i,o){return a.apply(this,arguments)})},{key:"addNewClick",value:(s=g(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=new Xe).setInAppId(t.inAppId),n.setLastVersionId(t.lastVersionId),n.setDeviceId(m.getDeviceId()),n.setEventType(p.EVENT_TYPE_CLICK),n.setPlatform(T.platform),t.buttonClicked?n.setClickedButton(t.clickedButton):n.setClickedButton("content"),t.properties.numberOfClicks&&0<t.properties.numberOfClicks&&d.addInAppNewClick(t),Be.postEventInApp(n);case 9:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"inAppGet",value:(o=g(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(i=new qe).setTag(t),Be.getCampaignTag(i,n,r);case 3:case"end":return e.stop()}},e)})),function(e,t,n){return o.apply(this,arguments)})},{key:"downloadHTML",value:(i=g(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"GET"});case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})}],n&&it(t.prototype,n),r&&it(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function E(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){at(r,t,n,i,o,"next",e)}function o(e){at(r,t,n,i,o,"throw",e)}i(void 0)})}}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=lt(n),t=(e=r?(e=lt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const x=new(function(){var e=y,t=le;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t);var n,r,o,s,a,u,c,f,l,p,h,v,d=ft(y);function y(){var e;if(this instanceof y)return(e=d.call(this)).URL_BASE=T.client.INBOX_URL_BASE,e.ENDPOINT_INBOX_NOTIFICATIONS="/notification",e.ENDPOINT_INBOX_NOTIFICATIONS_WITH_SENDINGID=e.ENDPOINT_INBOX_NOTIFICATIONS+"/{sendingId}",e.ENDPOINT_INBOX_COUNTER="/counters",e.ENDPOINT_INBOX_AUTH="/auth/webhook",e;throw new TypeError("Cannot call a class as a function")}return e=y,(t=[{key:"getURL",value:(v=E(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getUrlInboxApi();case 2:return t=e.sent,e.abrupt("return",t||this.URL_BASE);case 4:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"postInboxAuth",value:(h=E(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.ENDPOINT_INBOX_AUTH,t.postInboxAuth());case 2:return!(i=e.sent)||i instanceof I||!i.data?i?S.isFunction(r)&&r(i):S.isFunction(r)&&r():(o=i.data.token,m.setAuthToken(o),S.isFunction(n)&&n(i)),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)})),function(e,t,n){return h.apply(this,arguments)})},{key:"getInbox",value:(p=E(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.ENDPOINT_INBOX_NOTIFICATIONS,t.getInboxPushRequest());case 2:return i=e.sent,this.getInboxResponseStatus(i,n,r),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)})),function(e,t,n){return p.apply(this,arguments)})},{key:"putInboxPush",value:(l=E(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.put(this.ENDPOINT_INBOX_NOTIFICATIONS,t.putInboxPushRequest());case 2:return i=e.sent,this.getInboxResponseEdit(i,n,r),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)})),function(e,t,n){return l.apply(this,arguments)})},{key:"getInboxPushWithSendingId",value:(f=E(regeneratorRuntime.mark(function e(t,n,r,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.ENDPOINT_INBOX_NOTIFICATIONS_WITH_SENDINGID,t.getInboxPushRequestWithSendingId());case 2:return o=e.sent,this.getNotificationResponseStatus(o,n,r,i),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return f.apply(this,arguments)})},{key:"putInboxPushWithSendingId",value:(c=E(regeneratorRuntime.mark(function e(t,n,r,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.put(this.ENDPOINT_INBOX_NOTIFICATIONS_WITH_SENDINGID,t.putInboxWithSendingId());case 2:return o=e.sent,this.getNotificationResponseStatus(o,n,r,i),e.abrupt("return",!0);case 5:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return c.apply(this,arguments)})},{key:"getInboxCounter",value:(u=E(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.ENDPOINT_INBOX_COUNTER,t.getCounter());case 2:i=e.sent,this.getCounterStatus(i,n,r);case 4:case"end":return e.stop()}},e,this)})),function(e,t,n){return u.apply(this,arguments)})},{key:"getInboxResponseStatus",value:(a=E(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&!(t instanceof I)&&200<=t.statusCode&&t.statusCode<300?(i=new Lt(t.data),S.isFunction(n)&&n(i)):t?S.isFunction(r)&&r(t):S.isFunction(r)&&r();case 1:case"end":return e.stop()}},e)})),function(e,t,n){return a.apply(this,arguments)})},{key:"getInboxResponseEdit",value:(s=E(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&!(t instanceof I)&&200<=t.statusCode&&t.statusCode<300?S.isFunction(n)&&n():t?S.isFunction(r)&&r(t):S.isFunction(r)&&r();case 1:case"end":return e.stop()}},e)})),function(e,t,n){return s.apply(this,arguments)})},{key:"getNotifications",value:function(e,t){for(var n=[],r=0;r<e.length;r++){null!=e[r].sentAt&&null!=t&&e[r].sentAt<t&&(read=!0);var i=new InboxNotification(e[r],t);n.push(i)}return n}},{key:"getNotificationResponseStatus",value:(o=E(regeneratorRuntime.mark(function e(t,n,r,o){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&!(t instanceof I)&&200<=t.statusCode&&t.statusCode<300?(s=new InboxNotification(notifications[i],n),S.isFunction(r)&&r(s)):t?S.isFunction(o)&&o(t):S.isFunction(o)&&o();case 1:case"end":return e.stop()}},e)})),function(e,t,n,r){return o.apply(this,arguments)})},{key:"getCounterStatus",value:(r=E(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&!(t instanceof I)&&200<=t.statusCode&&t.statusCode<300?(i={click:t.data.click,sent:t.data.sent,deleted:t.data.deleted,unread:this.getUnreadCounters(t.data.unread)},S.isFunction(n)&&n(i)):t?S.isFunction(r)&&r(t):S.isFunction(r)&&r();case 1:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"getUnreadCounters",value:function(e){return{count:e.count,lastAccess:e.lastAccess}}}])&&ut(e.prototype,t),n&&ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),y}());function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=yt(n),t=(e=r?(e=yt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const gt=function(){var e=i,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vt(e,t);var n,r=dt(i);function i(){if(this instanceof i)return r.call(this);throw new TypeError("Cannot call a class as a function")}return e=i,(t=[{key:"postInboxAuth",value:function(){return this.body=this.json,this}},{key:"setJson",value:function(e){this.json=e}},{key:"addHeaders",value:function(){var t=this,n=new Headers({"Content-Type":"application/json"});return Object.keys(this.headers).forEach(function(e){n.append(e,t.headers[e])}),n}}])&&ht(e.prototype,t),n&&ht(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();e=Object.freeze({SENT:"sent",CLICK:"click",DELETED:"deleted"});const Et=window.inboxStatus=e,mt=Object.freeze({NONE:"none",DEFAULT:"default",WEBHOOK:"webhook"});function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ot(n),t=(e=r?(e=Ot(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const wt=function(){var e=i,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&It(e,t);var n,r=_t(i);function i(){var e;if(this instanceof i)return e=r.call(this),null!=m.getExternalId()&&(e.externalId=m.getExternalId()),null!=m.getAuthToken()&&m.getInboxAuthMode()==mt.WEBHOOK&&(e.headers.Authorization="Bearer "+m.getAuthToken()),e.sendingId="",e.sendingIds=null,e.page=0,e.pageSize=0,e.dateFrom="",e.dateTo="",e.status=Et.INBOXSTATUS_SENT,e.statusList=null,e;throw new TypeError("Cannot call a class as a function")}return e=i,(t=[{key:"getInboxPushRequest",value:function(){return this.params=this.createQueryString(),this}},{key:"putInboxPushRequest",value:function(){return this.params=this.createQueryStringExternalId(),this.body=this.createBodyJson(),this}},{key:"getInboxPushRequestWithSendingId",value:function(){return this.pathParams["{sendingId}"]=this.sendingId,this.params=this.createQueryStringExternalId(),this}},{key:"putInboxWithSendingId",value:function(){return this.pathParams["{sendingId}"]=this.sendingId,this.params=this.createQueryStringExternalId(),this.body=this.createBodyStatusJson(),this}},{key:"addHeaders",value:function(){var t=this,n=new Headers({"Content-Type":"application/json"});return Object.keys(this.headers).forEach(function(e){n.append(e,t.headers[e])}),n}},{key:"createQueryString",value:function(){var e="";if(this.page&&(e+=this.PARAM_INBOX_PAGE+"="+this.page+"&"),this.pageSize&&(e+=this.PARAM_INBOX_PAGE_SIZE+"="+this.pageSize+"&"),this.dateFrom&&(e+=this.PARAM_INBOX_DATE_FROM+"="+this.dateFrom+"&"),this.dateTo&&(e+=this.PARAM_INBOX_DATE_TO+"="+this.dateTo+"&"),this.statusList){for(var t="",n=0;n<this.statusList.length;n++)t+=this.statusList[n],n!=this.statusList.length-1&&(t+=",");e+=this.PARAM_INBOX_STATUS+"="+t+"&"}return e+this.createQueryStringExternalId()}},{key:"createQueryStringExternalId",value:function(){return this.PARAM_INBOX_EXTERNALID+"="+this.externalId}},{key:"createBodyJson",value:function(){var e={},t=[];try{if(e=this.createBodyStatusJson(),this.sendingIds)for(var n=0;n<this.sendingIds.length;n++)t.push(this.sendingIds[n]);e.sendingIds=t}catch(e){console.log("Error Inbox request :"+e)}return e}},{key:"createBodyStatusJson",value:function(){var e={};return this.status&&(e.status=this.status),e}},{key:"setSendingId",value:function(e){this.sendingId=e}},{key:"setSendingIds",value:function(e){this.sendingIds=e}},{key:"setPage",value:function(e){this.page=e}},{key:"setPageSize",value:function(e){this.pageSize=e}},{key:"setDateFrom",value:function(e){this.dateFrom=e}},{key:"setDateTo",value:function(e){this.dateTo=e}},{key:"setStatus",value:function(e){this.status=e}},{key:"setStatusList",value:function(e){this.statusList=e}}])&&bt(e.prototype,t),n&&bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Nt(n),t=(e=r?(e=Nt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const kt=function(){var e=i,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tt(e,t);var n,r=At(i);function i(){var e;if(this instanceof i)return e=r.call(this),null!=m.getExternalId()&&(e.externalId=m.getExternalId()),null!=m.getAuthToken()&&m.getInboxAuthMode()==mt.WEBHOOK&&(e.headers.Authorization="Bearer "+m.getAuthToken()),e;throw new TypeError("Cannot call a class as a function")}return e=i,(t=[{key:"getCounter",value:function(){return this.params=this.createQueryStringExternalId(),this}},{key:"addHeaders",value:function(){var t=this,n=new Headers({"Content-Type":"application/json"});return Object.keys(this.headers).forEach(function(e){n.append(e,t.headers[e])}),n}},{key:"createQueryStringExternalId",value:function(){return this.PARAM_INBOX_EXTERNALID+"="+this.externalId}}])&&St(e.prototype,t),n&&St(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t,n){return t&&xt(e.prototype,t),n&&xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}t=Dt(function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");t&&(t.id&&(this.id=t.id),t.externalId&&(this.externalId=t.externalId),t.sentAt&&(this.sentAt=t.sentAt),t.status&&(this.status=t.status),t.sendingId&&(this.sendingId=t.sendingId),t.message&&(this.message=t.message),t.campaignId&&(this.campaignId=t.campaignId),this.read=!1,this.sentAt&&n&&this.sentAt<n&&(this.read=!0))});const Ct=window.inboxNotification=t;function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Lt=function(){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");if(e){if(e.lastAccess&&(this.lastAccess=e.lastAccess),e.numPage?this.page=e.numPage:this.page=0,e.pageSize&&(this.pageSize=e.pageSize),e.count&&(this.count=e.count),e.notifications){this.notifications=[];for(var t=e.notifications,n=0;n<t.length;n++){var r=new Ct(t[n],this.lastAccess);this.notifications.push(r)}}this.totalPages=Math.trunc(this.count/this.pageSize)}this.dateFrom=null,this.dateTo=null,this.statusList=null,this.newNotifications=[Ct],this.isRequestingPage=!1}var e,t,n;return e=i,n=[{key:"generateAuthToken",value:function(e,t){var n={},r=(navigator.indigitallGetAuthConfig&&S.isFunction(navigator.indigitallGetAuthConfig)&&(n=navigator.indigitallGetAuthConfig()),new gt);r.setJson(n),x.postInboxAuth(r,e,t)}},{key:"getMessagesCount",value:function(t,e){var n,r=this;w.isValidFormatRequest()?w.isExternalIdFormat()?(n=new kt,x.getInboxCounter(n,t,function(e){401===e.errorCode?r.generateAuthToken(function(){x.getInboxCounter(n,t,e)},e):S.isFunction(e)&&e(e)})):S.isFunction(e)&&e(new I(_.INBOX_GET_ERROR,O.INBOX_EXTERNAL_ID_NO_REGISTERED)):S.isFunction(e)&&e(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST))}},{key:"getInbox",value:function(e,t){i.getInboxWithPage(null,null,null,null,null,e,t)}},{key:"getInboxWithPage",value:function(e,t,n,r,i,o,s){var a,u=this;w.isValidFormatRequest()?w.isExternalIdFormat()?(a=new wt,e&&a.setPage(e),t&&a.setPageSize(t),n&&(a.setDateFrom(n),this.dateFrom=n),r&&(a.setDateTo(r),this.dateTo=r),i&&(a.setStatusList(i),this.statusList=i),x.getInbox(a,function(e){u.totalPages=e.totalPages,0!=e.count?S.isFunction(o)&&o(e):S.isFunction(s)&&s(new I(_.INBOX_GET_PAGE_ERROR,O.INBOX_EMPTY))},function(e){401==e.errorCode?u.generateAuthToken(function(){x.getInbox(a,function(e){u.totalPages=e.totalPages,S.isFunction(o)&&o(e)},e)},e):S.isFunction(e)&&e(e)})):S.isFunction(s)&&s(new I(_.INBOX_GET_ERROR,O.INBOX_EXTERNAL_ID_NO_REGISTERED)):S.isFunction(s)&&s(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST))}}],(t=[{key:"getNextPage",value:function(t,e){var n,r=this,i=new R("[IND]Inbox: ");this.isRequestingPage?i.w(O.INBOX_IS_REQUESTING_PAGE).writeLog():(this.isRequestingPage=!0,this.page+1<this.totalPages?w.isValidFormatRequest()?w.isExternalIdFormat()?(n=new wt,!this.page&&0!=this.page||n.setPage(this.page+1),this.pageSize&&n.setPageSize(this.pageSize),this.dateFrom&&n.setDateFrom(this.dateFrom),this.dateTo&&n.setDateTo(this.dateTo),this.statusList&&n.setStatusList(this.statusList),x.getInbox(n,function(e){r.notifications=r.notifications.concat(e.notifications),r.newNotifications=e.notifications,r.lastAccess=e.lastAccess,r.count=e.count,r.page=e.page,r.pageSize=e.pageSize,r.totalPages=e.totalPages,r.isRequestingPage=!1,S.isFunction(t)&&t(r,r.newNotifications)},function(e){401===e.errorCode?r.generateAuthToken(function(){x.getInbox(n,function(e){r.notifications=r.notifications.concat(e.notifications),r.newNotifications=e.notifications,r.lastAccess=e.lastAccess,r.count=e.count,r.page=e.page,r.pageSize=e.pageSize,r.totalPages=e.totalPages,r.isRequestingPage=!1,S.isFunction(t)&&t(r,r.newNotifications)},e)},e):(r.isRequestingPage=!1,S.isFunction(e)&&e())})):(this.isRequestingPage=!1,S.isFunction(e)&&e(new I(_.INBOX_GET_ERROR,O.INBOX_EXTERNAL_ID_NO_REGISTERED))):S.isFunction(e)&&e(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST)):(this.isRequestingPage=!1,S.isFunction(e)&&e(new I(_.INBOX_GET_PAGE_ERROR,O.INBOX_NO_MESSAGES))))}},{key:"massiveEditNotifications",value:function(e,t,n,r){var i,o=this;w.isValidFormatRequest()?w.isExternalIdFormat()?e&&t&&((i=new wt).setSendingIds(e),i.setStatus(t),x.putInboxPush(i,n,function(e){401===e.errorCode?o.generateAuthToken(function(){x.putInboxPush(i,n,e)},e):S.isFunction(e)&&e(e)})):S.isFunction(r)&&r(new I(_.INBOX_GET_ERROR,O.INBOX_EXTERNAL_ID_NO_REGISTERED)):S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST))}},{key:"getInfoFromNotification",value:function(e,t,n){var r,i=this;w.isValidFormatRequest()?w.isExternalIdFormat()?e&&((r=new wt).setSendingId(e),x.getInboxPushWithSendingId(r,this.lastAccess,t,function(e){401===e.errorCode?i.generateAuthToken(function(){x.getInboxPushWithSendingId(r,i.lastAccess,t,e)},e):S.isFunction(e)&&e(e)})):S.isFunction(n)&&n(new I(_.INBOX_GET_ERROR,O.INBOX_EXTERNAL_ID_NO_REGISTERED)):S.isFunction(n)&&n(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST))}},{key:"modifyStatusFromNotification",value:function(e,t,n,r){var i,o=this;w.isValidFormatRequest()?w.isExternalIdFormat()?e&&t&&((i=new wt).setSendingId(e),i.setStatus(t),x.putInboxPushWithSendingId(i,this.lastAccess,n,function(e){401===e.errorCode?o.generateAuthToken(function(){x.putInboxPushWithSendingId(i,o.lastAccess,n,e)},e):S.isFunction(e)&&e(e)})):S.isFunction(r)&&r(new I(_.INBOX_GET_ERROR,O.INBOX_EXTERNAL_ID_NO_REGISTERED)):S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST))}}])&&Ft(e.prototype,t),n&&Ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();mn(8521);function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Vt(n),t=(e=r?(e=Vt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Gt=function(){var e=i,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ut(e,t);var n,r=jt(i);function i(){var e=this,t=i;if(e instanceof t)return r.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return e=i,(t=[{key:"getApplicationRequest",value:function(){return this.params=this.PARAM_PLATFORM+"="+T.platform,this}}])&&Mt(e.prototype,t),n&&Mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Jt(n),t=(e=r?(e=Jt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const D=function(){var e=i,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kt(e,t);var n,r=Wt(i);function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:re.DEFAULT,t=this,n=i;if(t instanceof n)return(t=r.call(this)).device=new b,t.status=e,t.notToUpdate=!1,t;throw new TypeError("Cannot call a class as a function")}return e=i,(t=[{key:"setDeviceId",value:function(e){this.device&&(this.device.deviceId=e)}},{key:"setAppKey",value:function(e){this.appKey=e}},{key:"getDeviceRequest",value:function(){return this.params=this.createQueryString(),this}},{key:"postDeviceRequest",value:function(){return this.body=this.createDeviceJson(),this.status!==re.DEFAULT&&(this.body.enabled=1===this.status),this}},{key:"putDeviceRequest",value:function(e){return this.params=this.createQueryString(),this.body=this.createPUTDeviceJson(e),this.status!==re.DEFAULT&&(this.body.enabled=1===this.status),this}},{key:"getDeviceTopicsRequest",value:function(){return this.params=this.createQueryString(),this}},{key:"postDeviceTopicsRequest",value:function(){return this.params=this.createQueryString(),this.body=this.createTopicsJson(),this}},{key:"deleteDeviceTopicsRequest",value:function(){return this.params=this.createQueryString(),this.body=this.createTopicsJson(),this}},{key:"createQueryString",value:function(){return this.PARAM_DEVICE_ID+"="+this.device.getDeviceId()}},{key:"createDeviceJson",value:function(){var e={};try{e=this.device.toJSON()}catch(e){}return e}},{key:"createPUTDeviceJson",value:function(e){var t={};try{b.setDeviceJson(e),t=e.toJSON()}catch(e){}return t}},{key:"createTopicsJson",value:function(){var e={};return this.topics&&(e.topics=this.topics),e}},{key:"getDeviceId",value:function(){return this.device.getDeviceId()}},{key:"setTopics",value:function(e){this.topics=e}},{key:"setExternalCode",value:function(e){this.device.setExternalCode(e)}}])&&Yt(e.prototype,t),n&&Yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(),C=Object.freeze({PERMISSION_TYPE_PUSH:"push",PERMISSION_TYPE_LOCATION:"location"});function Ht(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function Xt(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){Ht(r,t,n,i,o,"next",e)}function o(e){Ht(r,t,n,i,o,"throw",e)}i(void 0)})}}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const F=function(){function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}var e,t,n,r,i,s,a;return e=o,t=null,n=[{key:"getPermissions",value:(a=Xt(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getPermission("push");case 2:return t=e.sent,e.next=5,o.getPermission("geolocation");case 5:return n=e.sent,r={},t&&(r.push=t.state),null===t&&window.Notification&&window.Notification.permission&&(r.push=window.Notification.permission),n&&(r.location=n.state),e.abrupt("return",r);case 11:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})},{key:"getPermission",value:(s=Xt(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator&&navigator.permissions&&navigator.permissions.query&&t)return e.next=3,navigator.permissions.query({name:t,userVisibleOnly:!0});e.next=4;break;case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"setPermissionsCallback",value:(i=Xt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setCallback("push",navigator.indigitallRequestPushPermission);case 2:return e.next=4,o.setCallback("geolocation",navigator.indigitallRequestLocationPermission);case 4:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"setCallback",value:(r=Xt(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getPermission(t);case 2:(r=e.sent)&&(i=r.state,"onchange"in r&&(r.onchange=function(){new R("[IND]Permissions: ").d(t+" permission state has changed from "+i+" to "+r.state).writeLog(),i=r.state,n&&n({name:t,state:r.state})}));case 4:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})}],t&&Qt(e.prototype,t),n&&Qt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}();function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Zt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");e.id&&(this.id=e.id),e.customerId&&(this.customerId=e.customerId),e.applicationId&&(this.applicationId=e.applicationId),e.createdAt&&(this.createdAt=e.createdAt),e.updatedAt&&(this.updatedAt=e.updatedAt)}var e,n,r;return e=t,(n=[{key:"getCustomerId",value:function(){return this.customerId}},{key:"getApplicationId",value:function(){return this.applicationId}},{key:"getId",value:function(){return this.id}},{key:"getCreatedAt",value:function(){return this.createdAt}},{key:"getUpdatedAt",value:function(){return this.updatedAt}},{key:"toJSON",value:function(){return{id:this.id,customerId:this.customerId,applicationId:this.applicationId,createdAt:this.createdAt,updatedAt:this.updatedAt}}}])&&zt(e.prototype,n),r&&zt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const en=function(){function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.customerFieldKey=e,this.customerFieldValue=t}var e,t,r;return e=n,(t=[{key:"getCustomerFieldKey",value:function(){return this.customerFieldKey}},{key:"getCutomerFieldValue",value:function(){return this.customerFieldValue}},{key:"toJSON",value:function(){return JSON.parse('"'.concat(this.customerFieldKey,'":"').concat(this.customerFieldValue,'"'))}}])&&$t(e.prototype,t),r&&$t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),n}();function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function L(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){nn(r,t,n,i,o,"next",e)}function o(e){nn(r,t,n,i,o,"throw",e)}i(void 0)})}}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=an(n),t=(e=r?(e=an(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const B=new(function(){var e=l,t=le;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&on(e,t);var n,r,i,o,s,a,u,c,f=sn(l);function l(){var e;if(this instanceof l)return(e=f.call(this)).URL_BASE=T.client.CUSTOMER_URL_BASE,e.ENDPOINT_CUSTOMER="/customer",e.ENDPOINT_CUSTOMER_FIELD=e.ENDPOINT_CUSTOMER+"/field",e.ENDPOINT_CUSTOMER_LINK=e.ENDPOINT_CUSTOMER+"/link",e.ENDPOINT_EVENT="/event",e.ENDPOINT_EVENT_JOURNEY=e.ENDPOINT_EVENT+"/custom",e.ENDPOINT_EVENT_JOURNEY_BEACON=e.ENDPOINT_EVENT_JOURNEY+"/beacon",e;throw new TypeError("Cannot call a class as a function")}return e=l,(t=[{key:"getCustomer",value:(c=L(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isAppKeyFormat()&&w.isExternalIdFormat())return e.next=3,this.get(this.ENDPOINT_CUSTOMER,t.getCustomerRequest());e.next=7;break;case 3:(i=e.sent)&&!(i instanceof I)&&200<=i.statusCode&&i.statusCode<300?S.isFunction(n)&&n(new Zt(i.data)):i?S.isFunction(r)&&r(i):S.isFunction(r)&&r(),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:case"end":return e.stop()}},e,this)})),function(e,t,n){return c.apply(this,arguments)})},{key:"getCustomerField",value:(u=L(regeneratorRuntime.mark(function e(t,n,r){var i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isAppKeyFormat()&&w.isExternalIdFormat())return e.next=3,this.get(this.ENDPOINT_CUSTOMER_FIELD,t.getCustomerFieldRequest());e.next=9;break;case 3:for(s in i=e.sent,o=[],i.data)i.data.hasOwnProperty(s)&&o.push(new en(s,i.data[s]));i&&0<o.length&&!(i instanceof I)&&200<=i.statusCode&&i.statusCode<300?S.isFunction(n)&&n(o):i?S.isFunction(r)&&r(i):S.isFunction(r)&&r(),e.next=10;break;case 9:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 10:case"end":return e.stop()}},e,this)})),function(e,t,n){return u.apply(this,arguments)})},{key:"putCustomerField",value:(a=L(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isAppKeyFormat()&&w.isExternalIdFormat())return e.next=3,this.put(this.ENDPOINT_CUSTOMER_FIELD,t.putCustomerFieldRequest());e.next=7;break;case 3:i=e.sent,this.getCustomerResponse(i,n,r),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:case"end":return e.stop()}},e,this)})),function(e,t,n){return a.apply(this,arguments)})},{key:"deleteCustomerField",value:(s=L(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isAppKeyFormat()&&w.isExternalIdFormat())return e.next=3,this.delete(this.ENDPOINT_CUSTOMER_FIELD,t.deleteCustomerFieldRequest());e.next=7;break;case 3:i=e.sent,this.getCustomerResponse(i,n,r),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:case"end":return e.stop()}},e,this)})),function(e,t,n){return s.apply(this,arguments)})},{key:"postCustomerLink",value:(o=L(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isValidFormatRequest()&&w.isExternalIdFormat())return e.next=3,this.post(this.ENDPOINT_CUSTOMER_LINK,t.postAndDeleteCustomerLinkRequest());e.next=7;break;case 3:i=e.sent,this.getCustomerResponse(i,n,r),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:case"end":return e.stop()}},e,this)})),function(e,t,n){return o.apply(this,arguments)})},{key:"deleteCustomerLink",value:(i=L(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isValidFormatRequest()&&w.isExternalIdFormat())return e.next=3,this.delete(this.ENDPOINT_CUSTOMER_LINK,t.postAndDeleteCustomerLinkRequest());e.next=7;break;case 3:i=e.sent,this.getCustomerResponse(i,n,r),e.next=8;break;case 7:S.isFunction(r)&&r(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST));case 8:case"end":return e.stop()}},e,this)})),function(e,t,n){return i.apply(this,arguments)})},{key:"getCustomerResponse",value:(r=L(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&!(t instanceof I)&&200<=t.statusCode&&t.statusCode<300?S.isFunction(n)&&(""!=t.data?n(t.data):n()):t?S.isFunction(r)&&r(t):S.isFunction(r)&&r();case 1:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)})}])&&rn(e.prototype,t),n&&rn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),l}());function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=pn(n),t=(e=r?(e=pn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const M=function(){var e=i,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fn(e,t);var n,r=ln(i);function i(){var e;if(this instanceof i)return(e=r.call(this)).device=new b,null!=m.getExternalId()&&(e.customerId=m.getExternalId()),e.fieldNames,e.link,e.fields,e;throw new TypeError("Cannot call a class as a function")}return e=i,(t=[{key:"getCustomerRequest",value:function(){return this.params=this.createQueryStringCustomerId(),this}},{key:"getCustomerFieldRequest",value:function(){return this.params=this.createQueryString(),this}},{key:"putCustomerFieldRequest",value:function(){return this.params=this.createQueryStringCustomerId(),this.body=this.createBodyJson(),this}},{key:"deleteCustomerFieldRequest",value:function(){return this.params=this.createQueryStringCustomerId(),this.body=this.createDeleteBodyJson(),this}},{key:"postAndDeleteCustomerLinkRequest",value:function(){return this.params="",this.body=this.createBodyJson(),this}},{key:"createQueryString",value:function(){var e="";return e+=this.createQueryStringCustomerId(),this.fieldNames&&(e+="&".concat(this.PARAM_CUSTOMER_FIELD_NAMES,"=").concat(this.fieldNames)),this.fields&&(e+="&".concat(this.PARAM_CUSTOMER_FIELDS,"=").concat(this.fields)),this.link&&(e+="&".concat(this.PARAM_CUSTOMER_LINK,"=").concat(this.link)),e}},{key:"createQueryStringCustomerId",value:function(){return this.PARAM_CUSTOMER_ID+"="+this.customerId}},{key:"createBodyJson",value:function(){var e={};try{this.channel&&(e.channel=this.channel,this.device&&(e.deviceId=this.device.deviceId),this.customerId&&(e.customerId=this.customerId)),this.link&&(e.link=this.link),this.fields&&(e=this.fields)}catch(e){console.log("Error fieldNames request :"+e)}return e}},{key:"createDeleteBodyJson",value:function(){var e={},t=[];try{if(this.fieldNames){for(var n=0;n<this.fieldNames.length;n++)t.push(this.fieldNames[n]);e.fields=t}}catch(e){console.log("Error fieldNames request :"+e)}return e}},{key:"setFields",value:function(e){this.fields=e}},{key:"setFieldNames",value:function(e){this.fieldNames=e}},{key:"setLink",value:function(e){this.link=e}},{key:"setChannel",value:function(e){this.channel=e}}])&&cn(e.prototype,t),n&&cn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function U(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){vn(r,t,n,i,o,"next",e)}function o(e){vn(r,t,n,i,o,"throw",e)}i(void 0)})}}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const j=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,r,i,o,s,a,u,c;return t=e,n=null,r=[{key:"getCustomer",value:(c=U(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new M,e.next=3,B.getCustomer(r,t,n);case 3:case"end":return e.stop()}},e)})),function(e,t){return c.apply(this,arguments)})},{key:"getCustomerInformation",value:(u=U(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new M,null!=t&&(Array.isArray(t)?i.setFieldNames(t):S.isFunction(r)&&r(O.customerError(4011,O.CUSTOMER_ERROR_PARAMS))),e.next=4,B.getCustomerField(i,n,r);case 4:case"end":return e.stop()}},e)})),function(e,t,n){return u.apply(this,arguments)})},{key:"updateValueToCustomerFields",value:(a=U(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{"string"==typeof t?i=JSON.parse(i):"object"==hn(t)&&(i=t)}catch(e){S.isFunction(r)&&r(O.customerError(4011,O.CUSTOMER_ERROR_PARAMS))}if(i)return(o=new M).setFields(i),e.next=6,B.putCustomerField(o,n,r);e.next=8;break;case 6:e.next=9;break;case 8:S.isFunction(r)&&r(O.customerError(4900,O.CUSTOMER_ERROR_PARAMS));case 9:case"end":return e.stop()}},e)})),function(e,t,n){return a.apply(this,arguments)})},{key:"deleteValuesFromCustomerFields",value:(s=U(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t))return(i=new M).setFieldNames(t),e.next=5,B.deleteCustomerField(i,n,r);e.next=7;break;case 5:e.next=8;break;case 7:S.isFunction(r)&&r(O.customerError(4011,O.CUSTOMER_ERROR_PARAMS));case 8:case"end":return e.stop()}},e)})),function(e,t,n){return s.apply(this,arguments)})},{key:"linkCustomer",value:(o=U(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new M).setChannel(t),e.next=4,B.postCustomerLink(i,n,r);case 4:case"end":return e.stop()}},e)})),function(e,t,n){return o.apply(this,arguments)})},{key:"unlinkCustomer",value:(i=U(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new M).setChannel(t),e.next=4,B.deleteCustomerLink(i,n,r);case 4:case"end":return e.stop()}},e)})),function(e,t,n){return i.apply(this,arguments)})}],n&&dn(t.prototype,n),r&&dn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function V(a){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=a.apply(e,s);function i(e){gn(r,t,n,i,o,"next",e)}function o(e){gn(r,t,n,i,o,"throw",e)}i(void 0)})}}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G="[IND]Indigitall: ",e=function(){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.config=null}var e,t,n,o,r,i,s,a,u;return e=f,t=null,n=[{key:"init",value:(u=V(regeneratorRuntime.mark(function e(t){var n,r,i,o,s,a,u,c=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=new R(G),!t){e.next=7;break}t.onPushPermissionChanged&&(t.requestPushPermission=t.onPushPermissionChanged),t.onLocationPermissionChanged&&(t.requestLocationPermission=t.onLocationPermissionChanged),e.next=9;break;case 7:return n.w("config is not defined").writeLog(),e.abrupt("return");case 9:return this.config=t,this.config.logLevel?(m.setLogLevel(this.config.logLevel),n=new R(G)):this.config.setDebugLog&&(m.setLogLevel(l.WARNING),n=new R(G)),o="https://device-api.indigitall.com/v1",r="https://inapp-api.indigitall.com/v1",i="https://inbox-api.indigitall.com/v1",this.config.urlDeviceApi&&(o=this.config.urlDeviceApi),this.config.urlInappApi&&(r=this.config.urlInappApi),this.config.urlInboxApi&&(i=this.config.urlInboxApi),e.next=19,m.setUrlDeviceApi(o);case 19:return e.next=21,m.setUrlInappApi(r);case 21:return e.next=23,m.setUrlInboxApi(i);case 23:return S.isFunction(this.config.requestPushPermission)&&(navigator.indigitallRequestPushPermission=this.config.requestPushPermission),S.isFunction(this.config.requestLocationPermission)&&(navigator.indigitallRequestLocationPermission=this.config.requestLocationPermission),S.isFunction(this.config.onNewUserRegistered)&&(navigator.indigitallOnNewUserRegistered=this.config.onNewUserRegistered),S.isFunction(this.config.onInitialized)&&(navigator.indigitallOnInitialized=this.config.onInitialized),S.isFunction(this.config.onError)&&(navigator.indigitallOnError=this.config.onError),S.isFunction(this.config.onLocationUpdated)&&(navigator.indigitallOnLocationUpdated=this.config.onLocationUpdated),e.next=31,F.getPermissions();case 31:if(o=e.sent,F.setPermissionsCallback(),o&&"denied"===o.push)return n.i("Push permission denied").writeLog(),S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError("Push permission denied"),e.abrupt("return",!1);e.next=37;break;case 37:if(!oe.isServiceTimestampExceed()){e.next=65;break}if(s="",a=null,!this.config||!this.config.appKey){e.next=48;break}if(s=this.config.appKey,this.config.requestLocation)return e.next=45,m.setRequestLocation(this.config.requestLocation);e.next=45;break;case 45:this.config.workerPath&&(a=this.config.workerPath),e.next=50;break;case 48:return n.w("config.appKey is not defined").writeLog(),e.abrupt("return",!1);case 50:if(s)return e.next=53,m.setAppKey(s);e.next=62;break;case 53:if(f.isServiceWorkerSupported()||f.isSafariPushNotificationSupported())return u=new Gt,h.getBrowser(u,function(e){e.supported?(n.d("browser supported for webpush").writeLog(),e=new Gt,h.getApplicationAll(e,function(e){n.d("application ",e).writeLog(),e&&e.data&&e.data.configuration&&(e=e.data.configuration,n.d("configuration ",e).writeLog(),e.vapidPublic&&m.setVAPID(e.vapidPublic),e.safariWebsitePushId&&m.setSafariWebsitePushId(e.safariWebsitePushId),e.enabled&&m.setEnabled(e.enabled),e.serviceSyncTime&&m.setServiceSyncTime(e.serviceSyncTime),e.locationEnabled&&m.setLocationEnabled(e.locationEnabled),e.locationUpdateMinutes&&m.setLocationUpdateMinutes(e.locationUpdateMinutes),e.inboxAuthMode&&m.setInboxAuthMode(e.inboxAuthMode),e.inAppEnabled&&(m.setInAppEnabled(e.inAppEnabled),d.updateInAppExpired()));e=new D;m.getDeviceId()&&m.getPushToken()?h.putDevice(e,function(e){try{var t;oe.isServiceTimestampExceed()&&((t=new v).setAppKey(m.getAppKey()),t.setDeviceId(m.getDeviceId()),h.postEventVisit(t)),e.registeredByCookie?(m.setServiceTimestamp(Date.now()),F.getPermissions().then(function(e){var t=new b;t.deviceId&&n.i("deviceId:",t.deviceId).writeLog(),t.pushToken&&n.i("pushToken:",t.pushToken).writeLog(),c.config&&S.isFunction(navigator.indigitallOnInitialized)&&navigator.indigitallOnInitialized(e,t)})):f.registerForPush(a)}catch(e){S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError(new I(_.PUSH_INITIALIZATION_ERROR,e))}},navigator.indigitallOnError):h.postDevice(e,function(e){try{var t=new v;t.setAppKey(m.getAppKey()),t.setDeviceId(m.getDeviceId()),h.postEventVisit(t),e.registeredByCookie?m.setServiceTimestamp(Date.now()):f.registerForPush(a)}catch(e){S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError(new I(_.PUSH_INITIALIZATION_ERROR,e))}},function(e){404===e.errorCode&&m.clearStorage(),S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError(e)})},navigator.indigitallOnError)):n.w("Browser not Supported").writeLog()},navigator.indigitallOnError),e.abrupt("return",!0);e.next=59;break;case 59:n.w("ServiceWorker and SafariPushNotification not supported").writeLog();case 60:e.next=63;break;case 62:n.w("appKey is not found").writeLog();case 63:e.next=69;break;case 65:return this.device=new b,F.getPermissions().then(function(e){S.isFunction(navigator.indigitallOnInitialized)&&navigator.indigitallOnInitialized(e,new b)}),n.d("Device enabled").writeLog(),e.abrupt("return",!0);case 69:e.next=74;break;case 71:e.prev=71,e.t0=e.catch(0),S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError(new I(_.PUSH_INITIALIZATION_ERROR,e.t0));case 74:return e.abrupt("return",!1);case 75:case"end":return e.stop()}},e,this,[[0,71]])})),function(e){return u.apply(this,arguments)})},{key:"deviceGet",value:function(e,t){return h.getDevice(new D,e,t),!0}},{key:"deviceEnable",value:function(e,t){return h.putDevice(new D(re.ENABLE),e,t),!0}},{key:"deviceDisable",value:function(e,t){return h.putDevice(new D(re.DISABLE),e,t),!0}},{key:"topicsList",value:function(e,t){return h.getDeviceTopics(new D,e,t),!0}},{key:"topicsSubscribe",value:function(e,t,n){var r=new D;return r.setTopics(e),h.postDeviceTopics(r,t,n),!0}},{key:"topicsUnsubscribe",value:function(e,t,n){var r=new D;return r.setTopics(e),h.deleteDeviceTopics(r,t,n),!0}},{key:"registerForPush",value:function(e){f.isSafariPushNotificationSupported()?f.launchNotificationPermissionForSafari():f.isServiceWorkerSupported()&&f.launchNotificationPermission(e)}},{key:"isServiceWorkerSupported",value:function(){return"serviceWorker"in navigator}},{key:"isSafariPushNotificationSupported",value:function(){return"safari"in window&&"pushNotification"in window.safari}},{key:"registerServiceWorker",value:function(e){var t=new R(G),e=e?e:"/service-worker.js";return navigator.serviceWorker.register(e).then(function(e){return t.d("ServiceWorker registration successful with scope: "+e.scope).writeLog(),e}).catch(function(e){return t.e("ServiceWorker registration failed: ",e).writeLog(),e})}},{key:"launchNotificationPermission",value:function(e){var n=new R(G);this.registerServiceWorker(e).then(function(t){try{var e;t.installing?e=t.installing:t.waiting?e=t.waiting:t.active&&(e=t.active),e&&(n.d("sw current state "+e.state).writeLog(),"activated"==e.state?f.subscribeForPushNotification(t):("installed"==e.state&&m.getPushToken()&&t.update(),e.addEventListener("statechange",function(e){n.d("sw statechange : "+e.target.state).writeLog(),"activated"==e.target.state&&f.subscribeForPushNotification(t)})))}catch(e){S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError(new I(_.PUSH_INITIALIZATION_ERROR,e))}})}},{key:"subscribeForPushNotification",value:function(r){var i=new R(G);return new Promise(function(e,t){var n={userVisibleOnly:!0,applicationServerKey:S.urlBase64ToUint8Array(m.getVAPID())};return i.d("Registration: ",r).writeLog(),m.getPermissionPush()||S.callEventPermission(C.PERMISSION_TYPE_PUSH,p.EVENT_TYPE_ASK),e(r.pushManager.subscribe(n))}).then(function(e){i.d("Received PushSubscription: ",e).writeLog(),m.getPermissionPush()&&m.getPermissionPush()===p.EVENT_TYPE_ACCEPT||(S.callEventPermission(C.PERMISSION_TYPE_PUSH,p.EVENT_TYPE_ACCEPT),m.setPermissionPush(p.EVENT_TYPE_ACCEPT));e=e.toJSON();m.setBrowserPublicKey(e.keys.p256dh),m.setBrowserPrivateKey(e.keys.auth),m.setPushToken(e.endpoint),h.putDevice(new D,function(e){F.getPermissions().then(function(e){S.isFunction(navigator.indigitallOnInitialized)&&navigator.indigitallOnInitialized(e,new b)}),S.isFunction(navigator.indigitallOnNewUserRegistered)&&!m.getNewUserTimestamp()&&(m.setNewUserTimestamp(Date.now()),navigator.indigitallOnNewUserRegistered(e)),f.registerLocation()},navigator.indigitallOnError),m.setServiceTimestamp(Date.now())}).catch(function(e){i.e("No Registration: "+e).writeLog(),m.getPermissionPush()&&m.getPermissionPush()===p.EVENT_TYPE_REJECT||(S.callEventPermission(C.PERMISSION_TYPE_PUSH,p.EVENT_TYPE_REJECT),m.setPermissionPush(p.EVENT_TYPE_REJECT)),S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError(e)})}},{key:"launchNotificationPermissionForSafari",value:function(){var e,t=new R(G);m.getSafariWebsitePushId()&&m.getDeviceId()?(e=window.safari.pushNotification.permission(m.getSafariWebsitePushId()),f.checkRemotePermission(e)):(m.getSafariWebsitePushId()?t.w("error Device Id is not found"):t.w("error Safari Website Push Id is not found")).writeLog()}},{key:"checkRemotePermission",value:(a=V(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new R(G),e.prev=1,"default"===t.permission)return r={deviceCode:m.getDeviceId()},n.d("permission default: ",r).writeLog(),m.getPermissionPush()||S.callEventPermission(C.PERMISSION_TYPE_PUSH,p.EVENT_TYPE_ASK),e.t0=window.safari.pushNotification,e.next=9,h.getURL();e.next=17;break;case 9:e.t1=e.sent,e.t2=e.t1+"/safari",e.t3=m.getSafariWebsitePushId(),e.t4=r,e.t5=window.indigitall.checkRemotePermission,e.t0.requestPermission.call(e.t0,e.t2,e.t3,e.t4,e.t5),e.next=18;break;case 17:"denied"===t.permission?(n.w("permission denied: ",t).writeLog(),m.getPermissionPush()&&m.getPermissionPush()!=p.EVENT_TYPE_REJECT&&(S.callEventPermission(C.PERMISSION_TYPE_PUSH,p.EVENT_TYPE_REJECT),m.setPermissionPush(p.EVENT_TYPE_REJECT))):"granted"===t.permission&&(n.d("permission granted: ",t).writeLog(),m.getPermissionPush()&&m.getPermissionPush()!=p.EVENT_TYPE_ACCEPT&&(S.callEventPermission(C.PERMISSION_TYPE_PUSH,p.EVENT_TYPE_ACCEPT),m.setPermissionPush(p.EVENT_TYPE_ACCEPT)),t.deviceToken&&t.deviceToken!==m.getPushToken()&&(m.setPushToken(t.deviceToken),h.putDevice(new D,function(e){var t;S.isFunction(navigator.indigitallOnInitialized)&&((t={}).push=m.getPermissionPush(),t.location=m.getPermissionLocation(),navigator.indigitallOnInitialized(t,new b)),S.isFunction(navigator.indigitallOnNewUserRegistered)&&!m.getNewUserTimestamp()&&(m.setNewUserTimestamp(Date.now()),navigator.indigitallOnNewUserRegistered(e)),f.registerLocation()},navigator.indigitallOnError),m.setServiceTimestamp(Date.now()),m.setServiceTimestamp(Date.now())));case 18:e.next=23;break;case 20:e.prev=20,e.t6=e.catch(1),S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError(new I(_.PUSH_INITIALIZATION_ERROR,e.t6));case 23:case"end":return e.stop()}},e,null,[[1,20]])})),function(e){return a.apply(this,arguments)})},{key:"registerLocation",value:function(){var t=new R(G);try{navigator.geolocation&&m.getRequestLocation()&&m.getLocationEnabled()&&(!m.getLocationTimestamp()||m.getLocationUpdateMinutes()<=(Date.now()-m.getLocationTimestamp())/6e4)&&(m.getPermissionLocation()||S.callEventPermission(C.PERMISSION_TYPE_LOCATION,p.EVENT_TYPE_ASK),navigator.geolocation.getCurrentPosition(function(e){m.getPermissionLocation()||m.getPermissionLocation()==p.EVENT_TYPE_ACCEPT||(S.callEventPermission(C.PERMISSION_TYPE_LOCATION,p.EVENT_TYPE_ACCEPT),m.setPermissionLocation(p.EVENT_TYPE_ACCEPT));var t=new v;t.setLocation(e.coords.latitude,e.coords.longitude),h.postEventLocation(t),S.isFunction(navigator.indigitallOnLocationUpdated)&&navigator.indigitallOnLocationUpdated(e),m.setLocationTimestamp(Date.now())},function(e){t.e("error "+e).writeLog(),m.getPermissionLocation()||m.getPermissionLocation()==p.EVENT_TYPE_REJECT||(S.callEventPermission(C.PERMISSION_TYPE_LOCATION,p.EVENT_TYPE_REJECT),m.setPermissionLocation(p.EVENT_TYPE_REJECT))}))}catch(e){S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError(new I(_.PUSH_EVENT_ERROR,e))}}},{key:"requestPushPermission",value:function(t){F.getPushPermission().then(function(e){S.isFunction(t)&&t(e)})}},{key:"onPermissionChange",value:function(){F.setPermissionCallback()}},{key:"requestLocationPermission",value:function(t){F.getLocationPermission().then(function(e){S.isFunction(t)&&t(e)})}},{key:"logIn",value:function(e,t,n){f.setExternalId(e,t,n)}},{key:"logout",value:function(e,t){f.setExternalId(null,e,t)}},{key:"setExternalCode",value:function(e,t,n){f.setExternalId(e,t,n)}},{key:"setExternalId",value:(s=V(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=m.getAppKey()){e.next=5;break}return S.isFunction(r)&&r(new I(_.API_APPKEY_NOT_VALID,"appKey is missing")),e.abrupt("return");case 5:if(null!=t)return e.next=8,te.createHmac(i,t);e.next=12;break;case 8:(o=e.sent)&&this.setExternalIdRequest(o,n,r),e.next=13;break;case 12:this.setExternalIdRequest(null,n,r);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),S.isFunction(r)&&r(new I(_.PUSH_DEVICE_ERROR,e.t0));case 18:case"end":return e.stop()}},e,this,[[0,15]])})),function(e,t,n){return s.apply(this,arguments)})},{key:"setExternalIdRequest",value:(i=V(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new D,m.setExternalId(t),e.next=4,m.setExternalIdRequest(t);case 4:i.setExternalCode(t),h.putDevice(i,function(e){S.isFunction(n)&&n(e)},r);case 6:case"end":return e.stop()}},e)})),function(e,t,n){return i.apply(this,arguments)})},{key:"showInApp",value:function(e,t,n,r,i,o,s,a,u){w.isValidFormatRequest()?ot.showInApp(e,t,n,r,i,o,s,a,u):S.isFunction(u)&&u(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST))}},{key:"showMultipleInApp",value:function(e,t,n,r,i,o,s,a,u){w.isValidFormatRequest()?ot.showMultipleInAppshowMultipleInApp(e,t,n,r,i,o,s,a,u):S.isFunction(u)&&u(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST))}},{key:"getInApp",value:function(e,t,n){w.isValidFormatRequest()?ot.inAppGet(e,t,n):S.isFunction(n)&&n(O.requestError(_.BAD_REQUEST_SERVER_ERROR,O.GENERAL_ERROR_BAD_REQUEST))}},{key:"isInAppDismissForever",value:(r=V(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.isInAppDismissForever(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},{key:"inAppWasShown",value:(o=V(regeneratorRuntime.mark(function e(t,n,r,i,o){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d.inAppWasShown(t,n,r,i,o);case 1:case"end":return e.stop()}},e)})),function(e,t,n,r,i){return o.apply(this,arguments)})},{key:"addNewInAppClick",value:function(e){ot.addNewClick(e)}},{key:"addNewInAppToDismissForever",value:function(e){nt.addNewInAppToDismissForever(e)}},{key:"sendCustomEvent",value:function(e,t,n){try{var r="",i={},o=!0,s=("string"==typeof e?r=e:"object"===yn(e)&&(r=e.eventType,e.customData&&(i=e.customData),!1===e.async&&(o=e.async)),new v);s.setDeviceId(m.getDeviceId()),s.setEventType(r),s.setCustomData(i),null!=m.getExternalId()&&"null"!=m.getExternalId()?(s.setExternalCode(m.getExternalId()),s.setJourneyRequest(!0),!1===o?h.postEventJourneySync(s,t,n):h.postEventJourney(s,t,n)):!1===o?h.postEventCustomSync(s,t,n):h.postEventCustom(s,t,n)}catch(e){S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError(new I(_.PUSH_EVENT_ERROR,e))}}},{key:"sendJourneyEvent",value:function(e,t,n){try{var r="",i={},o=!0,s=("string"==typeof e?r=e:"object"===yn(e)&&(r=e.eventType,e.customData&&(i=e.customData),!1===e.async&&(o=e.async)),new v);s.setDeviceId(m.getDeviceId()),s.setExternalCodeRequest(),s.setEventType(r),s.setCustomData(i),s.setJourneyRequest(!0),!1===o?h.postEventJourneySync(s,t,n):h.postEventJourney(s,t,n)}catch(e){S.isFunction(navigator.indigitallOnError)&&navigator.indigitallOnError(new I(_.PUSH_EVENT_ERROR,e))}}},{key:"getInboxMessagesCount",value:function(e,t,n){S.isFunction(e.getAuthConfig)&&(navigator.indigitallGetAuthConfig=getAuthConfig),Lt.getMessagesCount(t,n)}},{key:"getInbox",value:function(e,t,n){S.isFunction(e.getAuthConfig)&&(navigator.indigitallGetAuthConfig=getAuthConfig),Lt.getInbox(t,n)}},{key:"getInboxWithPage",value:function(e,t,n,r,i,o,s,a){S.isFunction(e.getAuthConfig)&&(navigator.indigitallGetAuthConfig=getAuthConfig),Lt.getInboxWithPage(t,n,r,i,o,s,a)}},{key:"getCustomer",value:function(e,t){j.getCustomer(e,t)}},{key:"getCustomerInformation",value:function(e,t){this.getCustomerInformationWithFields(null,e,t)}},{key:"getCustomerInformationWithFields",value:function(e,t,n){j.getCustomerInformation(e,t,n)}},{key:"assignOrUpdateValueToCustomerFields",value:function(e,t,n){j.updateValueToCustomerFields(e,t,n)}},{key:"deleteValuesFromCustomerFields",value:function(e,t,n){j.deleteValuesFromCustomerFields(e,t,n)}},{key:"link",value:function(e,t,n,r){f.logIn(e,function(e){j.linkCustomer(t,n,r)},function(e){S.isFunction(r)&&r(e)})}},{key:"unlink",value:function(t,n,r){f.logout(function(e){j.unlinkCustomer(t,n,r)},function(e){S.isFunction(r)&&r(e)})}}],t&&En(e.prototype,t),n&&En(e,n),Object.defineProperty(e,"prototype",{writable:!1}),f}();window.indigitall=e,window.indigitall.Channel=Channel,window.indigitall.LogLevel=l,window.indigitall.version=m.getVersion()})()})();